{"remainingRequest":"/Users/tech/workspace/demo/vue-demo/node_modules/babel-loader/lib/index.js!/Users/tech/workspace/demo/vue-demo/src/vueResource/core/vdom/create-component.js","dependencies":[{"path":"/Users/tech/workspace/demo/vue-demo/src/vueResource/core/vdom/create-component.js","mtime":1596452200000},{"path":"/Users/tech/workspace/demo/vue-demo/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/tech/workspace/demo/vue-demo/node_modules/babel-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5kZXgtb2YiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmtleXMiOwoKLyogICAgICAgKi8KaW1wb3J0IFZOb2RlIGZyb20gJy4vdm5vZGUnOwppbXBvcnQgeyByZXNvbHZlQ29uc3RydWN0b3JPcHRpb25zIH0gZnJvbSAnLi4vLi4vY29yZS9pbnN0YW5jZS9pbml0JzsKaW1wb3J0IHsgcXVldWVBY3RpdmF0ZWRDb21wb25lbnQgfSBmcm9tICcuLi8uLi9jb3JlL29ic2VydmVyL3NjaGVkdWxlcic7CmltcG9ydCB7IGNyZWF0ZUZ1bmN0aW9uYWxDb21wb25lbnQgfSBmcm9tICcuL2NyZWF0ZS1mdW5jdGlvbmFsLWNvbXBvbmVudCc7CmltcG9ydCB7IHdhcm4sIGlzRGVmLCBpc1VuZGVmLCBpc1RydWUsIGlzT2JqZWN0IH0gZnJvbSAnLi4vdXRpbC9pbmRleCc7CmltcG9ydCB7IHJlc29sdmVBc3luY0NvbXBvbmVudCwgY3JlYXRlQXN5bmNQbGFjZWhvbGRlciwgZXh0cmFjdFByb3BzRnJvbVZOb2RlRGF0YSB9IGZyb20gJy4vaGVscGVycy9pbmRleCc7CmltcG9ydCB7IGNhbGxIb29rLCBhY3RpdmVJbnN0YW5jZSwgdXBkYXRlQ2hpbGRDb21wb25lbnQsIGFjdGl2YXRlQ2hpbGRDb21wb25lbnQsIGRlYWN0aXZhdGVDaGlsZENvbXBvbmVudCB9IGZyb20gJy4uL2luc3RhbmNlL2xpZmVjeWNsZSc7CmltcG9ydCB7IGlzUmVjeWNsYWJsZUNvbXBvbmVudCwgcmVuZGVyUmVjeWNsYWJsZUNvbXBvbmVudFRlbXBsYXRlIH0gZnJvbSAnLi4vLi4vcGxhdGZvcm1zL3dlZXgvcnVudGltZS9yZWN5Y2xlLWxpc3QvcmVuZGVyLWNvbXBvbmVudC10ZW1wbGF0ZSc7IC8vIGlubGluZSBob29rcyB0byBiZSBpbnZva2VkIG9uIGNvbXBvbmVudCBWTm9kZXMgZHVyaW5nIHBhdGNoCgp2YXIgY29tcG9uZW50Vk5vZGVIb29rcyA9IHsKICBpbml0OiBmdW5jdGlvbiBpbml0KHZub2RlLCBoeWRyYXRpbmcpIHsKICAgIGlmICh2bm9kZS5jb21wb25lbnRJbnN0YW5jZSAmJiAhdm5vZGUuY29tcG9uZW50SW5zdGFuY2UuX2lzRGVzdHJveWVkICYmIHZub2RlLmRhdGEua2VlcEFsaXZlKSB7CiAgICAgIC8vIGtlcHQtYWxpdmUgY29tcG9uZW50cywgdHJlYXQgYXMgYSBwYXRjaAogICAgICB2YXIgbW91bnRlZE5vZGUgPSB2bm9kZTsgLy8gd29yayBhcm91bmQgZmxvdwoKICAgICAgY29tcG9uZW50Vk5vZGVIb29rcy5wcmVwYXRjaChtb3VudGVkTm9kZSwgbW91bnRlZE5vZGUpOwogICAgfSBlbHNlIHsKICAgICAgdmFyIGNoaWxkID0gdm5vZGUuY29tcG9uZW50SW5zdGFuY2UgPSBjcmVhdGVDb21wb25lbnRJbnN0YW5jZUZvclZub2RlKHZub2RlLCBhY3RpdmVJbnN0YW5jZSk7CiAgICAgIGNoaWxkLiRtb3VudChoeWRyYXRpbmcgPyB2bm9kZS5lbG0gOiB1bmRlZmluZWQsIGh5ZHJhdGluZyk7CiAgICB9CiAgfSwKICBwcmVwYXRjaDogZnVuY3Rpb24gcHJlcGF0Y2gob2xkVm5vZGUsIHZub2RlKSB7CiAgICB2YXIgb3B0aW9ucyA9IHZub2RlLmNvbXBvbmVudE9wdGlvbnM7CiAgICB2YXIgY2hpbGQgPSB2bm9kZS5jb21wb25lbnRJbnN0YW5jZSA9IG9sZFZub2RlLmNvbXBvbmVudEluc3RhbmNlOwogICAgdXBkYXRlQ2hpbGRDb21wb25lbnQoY2hpbGQsIG9wdGlvbnMucHJvcHNEYXRhLCAvLyB1cGRhdGVkIHByb3BzCiAgICBvcHRpb25zLmxpc3RlbmVycywgLy8gdXBkYXRlZCBsaXN0ZW5lcnMKICAgIHZub2RlLCAvLyBuZXcgcGFyZW50IHZub2RlCiAgICBvcHRpb25zLmNoaWxkcmVuIC8vIG5ldyBjaGlsZHJlbgogICAgKTsKICB9LAogIGluc2VydDogZnVuY3Rpb24gaW5zZXJ0KHZub2RlKSB7CiAgICB2YXIgY29udGV4dCA9IHZub2RlLmNvbnRleHQsCiAgICAgICAgY29tcG9uZW50SW5zdGFuY2UgPSB2bm9kZS5jb21wb25lbnRJbnN0YW5jZTsKCiAgICBpZiAoIWNvbXBvbmVudEluc3RhbmNlLl9pc01vdW50ZWQpIHsKICAgICAgY29tcG9uZW50SW5zdGFuY2UuX2lzTW91bnRlZCA9IHRydWU7CiAgICAgIGNhbGxIb29rKGNvbXBvbmVudEluc3RhbmNlLCAnbW91bnRlZCcpOwogICAgfQoKICAgIGlmICh2bm9kZS5kYXRhLmtlZXBBbGl2ZSkgewogICAgICBpZiAoY29udGV4dC5faXNNb3VudGVkKSB7CiAgICAgICAgLy8gdnVlLXJvdXRlciMxMjEyCiAgICAgICAgLy8gRHVyaW5nIHVwZGF0ZXMsIGEga2VwdC1hbGl2ZSBjb21wb25lbnQncyBjaGlsZCBjb21wb25lbnRzIG1heQogICAgICAgIC8vIGNoYW5nZSwgc28gZGlyZWN0bHkgd2Fsa2luZyB0aGUgdHJlZSBoZXJlIG1heSBjYWxsIGFjdGl2YXRlZCBob29rcwogICAgICAgIC8vIG9uIGluY29ycmVjdCBjaGlsZHJlbi4gSW5zdGVhZCB3ZSBwdXNoIHRoZW0gaW50byBhIHF1ZXVlIHdoaWNoIHdpbGwKICAgICAgICAvLyBiZSBwcm9jZXNzZWQgYWZ0ZXIgdGhlIHdob2xlIHBhdGNoIHByb2Nlc3MgZW5kZWQuCiAgICAgICAgcXVldWVBY3RpdmF0ZWRDb21wb25lbnQoY29tcG9uZW50SW5zdGFuY2UpOwogICAgICB9IGVsc2UgewogICAgICAgIGFjdGl2YXRlQ2hpbGRDb21wb25lbnQoY29tcG9uZW50SW5zdGFuY2UsIHRydWUKICAgICAgICAvKiBkaXJlY3QgKi8KICAgICAgICApOwogICAgICB9CiAgICB9CiAgfSwKICBkZXN0cm95OiBmdW5jdGlvbiBkZXN0cm95KHZub2RlKSB7CiAgICB2YXIgY29tcG9uZW50SW5zdGFuY2UgPSB2bm9kZS5jb21wb25lbnRJbnN0YW5jZTsKCiAgICBpZiAoIWNvbXBvbmVudEluc3RhbmNlLl9pc0Rlc3Ryb3llZCkgewogICAgICBpZiAoIXZub2RlLmRhdGEua2VlcEFsaXZlKSB7CiAgICAgICAgY29tcG9uZW50SW5zdGFuY2UuJGRlc3Ryb3koKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBkZWFjdGl2YXRlQ2hpbGRDb21wb25lbnQoY29tcG9uZW50SW5zdGFuY2UsIHRydWUKICAgICAgICAvKiBkaXJlY3QgKi8KICAgICAgICApOwogICAgICB9CiAgICB9CiAgfQp9Owp2YXIgaG9va3NUb01lcmdlID0gT2JqZWN0LmtleXMoY29tcG9uZW50Vk5vZGVIb29rcyk7CmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVDb21wb25lbnQoQ3RvciwgZGF0YSwgY29udGV4dCwgY2hpbGRyZW4sIHRhZykgewogIGlmIChpc1VuZGVmKEN0b3IpKSB7CiAgICByZXR1cm47CiAgfQoKICB2YXIgYmFzZUN0b3IgPSBjb250ZXh0LiRvcHRpb25zLl9iYXNlOyAvLyBwbGFpbiBvcHRpb25zIG9iamVjdDogdHVybiBpdCBpbnRvIGEgY29uc3RydWN0b3IKCiAgaWYgKGlzT2JqZWN0KEN0b3IpKSB7CiAgICBDdG9yID0gYmFzZUN0b3IuZXh0ZW5kKEN0b3IpOwogIH0gLy8gaWYgYXQgdGhpcyBzdGFnZSBpdCdzIG5vdCBhIGNvbnN0cnVjdG9yIG9yIGFuIGFzeW5jIGNvbXBvbmVudCBmYWN0b3J5LAogIC8vIHJlamVjdC4KCgogIGlmICh0eXBlb2YgQ3RvciAhPT0gJ2Z1bmN0aW9uJykgewogICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHsKICAgICAgd2FybigiSW52YWxpZCBDb21wb25lbnQgZGVmaW5pdGlvbjogIi5jb25jYXQoU3RyaW5nKEN0b3IpKSwgY29udGV4dCk7CiAgICB9CgogICAgcmV0dXJuOwogIH0gLy8gYXN5bmMgY29tcG9uZW50CgoKICB2YXIgYXN5bmNGYWN0b3J5OwoKICBpZiAoaXNVbmRlZihDdG9yLmNpZCkpIHsKICAgIGFzeW5jRmFjdG9yeSA9IEN0b3I7CiAgICBDdG9yID0gcmVzb2x2ZUFzeW5jQ29tcG9uZW50KGFzeW5jRmFjdG9yeSwgYmFzZUN0b3IsIGNvbnRleHQpOwoKICAgIGlmIChDdG9yID09PSB1bmRlZmluZWQpIHsKICAgICAgLy8gcmV0dXJuIGEgcGxhY2Vob2xkZXIgbm9kZSBmb3IgYXN5bmMgY29tcG9uZW50LCB3aGljaCBpcyByZW5kZXJlZAogICAgICAvLyBhcyBhIGNvbW1lbnQgbm9kZSBidXQgcHJlc2VydmVzIGFsbCB0aGUgcmF3IGluZm9ybWF0aW9uIGZvciB0aGUgbm9kZS4KICAgICAgLy8gdGhlIGluZm9ybWF0aW9uIHdpbGwgYmUgdXNlZCBmb3IgYXN5bmMgc2VydmVyLXJlbmRlcmluZyBhbmQgaHlkcmF0aW9uLgogICAgICByZXR1cm4gY3JlYXRlQXN5bmNQbGFjZWhvbGRlcihhc3luY0ZhY3RvcnksIGRhdGEsIGNvbnRleHQsIGNoaWxkcmVuLCB0YWcpOwogICAgfQogIH0KCiAgZGF0YSA9IGRhdGEgfHwge307IC8vIHJlc29sdmUgY29uc3RydWN0b3Igb3B0aW9ucyBpbiBjYXNlIGdsb2JhbCBtaXhpbnMgYXJlIGFwcGxpZWQgYWZ0ZXIKICAvLyBjb21wb25lbnQgY29uc3RydWN0b3IgY3JlYXRpb24KCiAgcmVzb2x2ZUNvbnN0cnVjdG9yT3B0aW9ucyhDdG9yKTsgLy8gdHJhbnNmb3JtIGNvbXBvbmVudCB2LW1vZGVsIGRhdGEgaW50byBwcm9wcyAmIGV2ZW50cwoKICBpZiAoaXNEZWYoZGF0YS5tb2RlbCkpIHsKICAgIHRyYW5zZm9ybU1vZGVsKEN0b3Iub3B0aW9ucywgZGF0YSk7CiAgfSAvLyBleHRyYWN0IHByb3BzCgoKICB2YXIgcHJvcHNEYXRhID0gZXh0cmFjdFByb3BzRnJvbVZOb2RlRGF0YShkYXRhLCBDdG9yLCB0YWcpOyAvLyBmdW5jdGlvbmFsIGNvbXBvbmVudAoKICBpZiAoaXNUcnVlKEN0b3Iub3B0aW9ucy5mdW5jdGlvbmFsKSkgewogICAgcmV0dXJuIGNyZWF0ZUZ1bmN0aW9uYWxDb21wb25lbnQoQ3RvciwgcHJvcHNEYXRhLCBkYXRhLCBjb250ZXh0LCBjaGlsZHJlbik7CiAgfSAvLyBleHRyYWN0IGxpc3RlbmVycywgc2luY2UgdGhlc2UgbmVlZHMgdG8gYmUgdHJlYXRlZCBhcwogIC8vIGNoaWxkIGNvbXBvbmVudCBsaXN0ZW5lcnMgaW5zdGVhZCBvZiBET00gbGlzdGVuZXJzCgoKICB2YXIgbGlzdGVuZXJzID0gZGF0YS5vbjsgLy8gcmVwbGFjZSB3aXRoIGxpc3RlbmVycyB3aXRoIC5uYXRpdmUgbW9kaWZpZXIKICAvLyBzbyBpdCBnZXRzIHByb2Nlc3NlZCBkdXJpbmcgcGFyZW50IGNvbXBvbmVudCBwYXRjaC4KCiAgZGF0YS5vbiA9IGRhdGEubmF0aXZlT247CgogIGlmIChpc1RydWUoQ3Rvci5vcHRpb25zLmFic3RyYWN0KSkgewogICAgLy8gYWJzdHJhY3QgY29tcG9uZW50cyBkbyBub3Qga2VlcCBhbnl0aGluZwogICAgLy8gb3RoZXIgdGhhbiBwcm9wcyAmIGxpc3RlbmVycyAmIHNsb3QKICAgIC8vIHdvcmsgYXJvdW5kIGZsb3cKICAgIHZhciBzbG90ID0gZGF0YS5zbG90OwogICAgZGF0YSA9IHt9OwoKICAgIGlmIChzbG90KSB7CiAgICAgIGRhdGEuc2xvdCA9IHNsb3Q7CiAgICB9CiAgfSAvLyBpbnN0YWxsIGNvbXBvbmVudCBtYW5hZ2VtZW50IGhvb2tzIG9udG8gdGhlIHBsYWNlaG9sZGVyIG5vZGUKCgogIGluc3RhbGxDb21wb25lbnRIb29rcyhkYXRhKTsgLy8gcmV0dXJuIGEgcGxhY2Vob2xkZXIgdm5vZGUKCiAgdmFyIG5hbWUgPSBDdG9yLm9wdGlvbnMubmFtZSB8fCB0YWc7CiAgdmFyIHZub2RlID0gbmV3IFZOb2RlKCJ2dWUtY29tcG9uZW50LSIuY29uY2F0KEN0b3IuY2lkKS5jb25jYXQobmFtZSA/ICItIi5jb25jYXQobmFtZSkgOiAnJyksIGRhdGEsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIGNvbnRleHQsIHsKICAgIEN0b3I6IEN0b3IsCiAgICBwcm9wc0RhdGE6IHByb3BzRGF0YSwKICAgIGxpc3RlbmVyczogbGlzdGVuZXJzLAogICAgdGFnOiB0YWcsCiAgICBjaGlsZHJlbjogY2hpbGRyZW4KICB9LCBhc3luY0ZhY3RvcnkpOyAvLyBXZWV4IHNwZWNpZmljOiBpbnZva2UgcmVjeWNsZS1saXN0IG9wdGltaXplZCBAcmVuZGVyIGZ1bmN0aW9uIGZvcgogIC8vIGV4dHJhY3RpbmcgY2VsbC1zbG90IHRlbXBsYXRlLgogIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9IYW5rczEwMTAwL3dlZXgtbmF0aXZlLWRpcmVjdGl2ZS90cmVlL21hc3Rlci9jb21wb25lbnQKCiAgLyogaXN0YW5idWwgaWdub3JlIGlmICovCgogIGlmIChfX1dFRVhfXyAmJiBpc1JlY3ljbGFibGVDb21wb25lbnQodm5vZGUpKSB7CiAgICByZXR1cm4gcmVuZGVyUmVjeWNsYWJsZUNvbXBvbmVudFRlbXBsYXRlKHZub2RlKTsKICB9CgogIHJldHVybiB2bm9kZTsKfQpleHBvcnQgZnVuY3Rpb24gY3JlYXRlQ29tcG9uZW50SW5zdGFuY2VGb3JWbm9kZSh2bm9kZSwgLy8gd2Uga25vdyBpdCdzIE1vdW50ZWRDb21wb25lbnRWTm9kZSBidXQgZmxvdyBkb2Vzbid0CnBhcmVudCkgLy8gYWN0aXZlSW5zdGFuY2UgaW4gbGlmZWN5Y2xlIHN0YXRlCnsKICB2YXIgb3B0aW9ucyA9IHsKICAgIF9pc0NvbXBvbmVudDogdHJ1ZSwKICAgIF9wYXJlbnRWbm9kZTogdm5vZGUsCiAgICBwYXJlbnQ6IHBhcmVudAogIH07IC8vIGNoZWNrIGlubGluZS10ZW1wbGF0ZSByZW5kZXIgZnVuY3Rpb25zCgogIHZhciBpbmxpbmVUZW1wbGF0ZSA9IHZub2RlLmRhdGEuaW5saW5lVGVtcGxhdGU7CgogIGlmIChpc0RlZihpbmxpbmVUZW1wbGF0ZSkpIHsKICAgIG9wdGlvbnMucmVuZGVyID0gaW5saW5lVGVtcGxhdGUucmVuZGVyOwogICAgb3B0aW9ucy5zdGF0aWNSZW5kZXJGbnMgPSBpbmxpbmVUZW1wbGF0ZS5zdGF0aWNSZW5kZXJGbnM7CiAgfQoKICByZXR1cm4gbmV3IHZub2RlLmNvbXBvbmVudE9wdGlvbnMuQ3RvcihvcHRpb25zKTsKfQoKZnVuY3Rpb24gaW5zdGFsbENvbXBvbmVudEhvb2tzKGRhdGEpIHsKICB2YXIgaG9va3MgPSBkYXRhLmhvb2sgfHwgKGRhdGEuaG9vayA9IHt9KTsKCiAgZm9yICh2YXIgaSA9IDA7IGkgPCBob29rc1RvTWVyZ2UubGVuZ3RoOyBpKyspIHsKICAgIHZhciBrZXkgPSBob29rc1RvTWVyZ2VbaV07CiAgICB2YXIgZXhpc3RpbmcgPSBob29rc1trZXldOwogICAgdmFyIHRvTWVyZ2UgPSBjb21wb25lbnRWTm9kZUhvb2tzW2tleV07CgogICAgaWYgKGV4aXN0aW5nICE9PSB0b01lcmdlICYmICEoZXhpc3RpbmcgJiYgZXhpc3RpbmcuX21lcmdlZCkpIHsKICAgICAgaG9va3Nba2V5XSA9IGV4aXN0aW5nID8gbWVyZ2VIb29rKHRvTWVyZ2UsIGV4aXN0aW5nKSA6IHRvTWVyZ2U7CiAgICB9CiAgfQp9CgpmdW5jdGlvbiBtZXJnZUhvb2soZjEsIGYyKSB7CiAgdmFyIG1lcmdlZCA9IGZ1bmN0aW9uIG1lcmdlZChhLCBiKSB7CiAgICAvLyBmbG93IGNvbXBsYWlucyBhYm91dCBleHRyYSBhcmdzIHdoaWNoIGlzIHdoeSB3ZSB1c2UgYW55CiAgICBmMShhLCBiKTsKICAgIGYyKGEsIGIpOwogIH07CgogIG1lcmdlZC5fbWVyZ2VkID0gdHJ1ZTsKICByZXR1cm4gbWVyZ2VkOwp9IC8vIHRyYW5zZm9ybSBjb21wb25lbnQgdi1tb2RlbCBpbmZvICh2YWx1ZSBhbmQgY2FsbGJhY2spIGludG8KLy8gcHJvcCBhbmQgZXZlbnQgaGFuZGxlciByZXNwZWN0aXZlbHkuCgoKZnVuY3Rpb24gdHJhbnNmb3JtTW9kZWwob3B0aW9ucywgZGF0YSkgewogIHZhciBwcm9wID0gb3B0aW9ucy5tb2RlbCAmJiBvcHRpb25zLm1vZGVsLnByb3AgfHwgJ3ZhbHVlJzsKICB2YXIgZXZlbnQgPSBvcHRpb25zLm1vZGVsICYmIG9wdGlvbnMubW9kZWwuZXZlbnQgfHwgJ2lucHV0JzsKICAoZGF0YS5wcm9wcyB8fCAoZGF0YS5wcm9wcyA9IHt9KSlbcHJvcF0gPSBkYXRhLm1vZGVsLnZhbHVlOwogIHZhciBvbiA9IGRhdGEub24gfHwgKGRhdGEub24gPSB7fSk7CiAgdmFyIGV4aXN0aW5nID0gb25bZXZlbnRdOwogIHZhciBjYWxsYmFjayA9IGRhdGEubW9kZWwuY2FsbGJhY2s7CgogIGlmIChpc0RlZihleGlzdGluZykpIHsKICAgIGlmIChBcnJheS5pc0FycmF5KGV4aXN0aW5nKSA/IGV4aXN0aW5nLmluZGV4T2YoY2FsbGJhY2spID09PSAtMSA6IGV4aXN0aW5nICE9PSBjYWxsYmFjaykgewogICAgICBvbltldmVudF0gPSBbY2FsbGJhY2tdLmNvbmNhdChleGlzdGluZyk7CiAgICB9CiAgfSBlbHNlIHsKICAgIG9uW2V2ZW50XSA9IGNhbGxiYWNrOwogIH0KfQ=="},{"version":3,"sources":["/Users/tech/workspace/demo/vue-demo/src/vueResource/core/vdom/create-component.js"],"names":["VNode","resolveConstructorOptions","queueActivatedComponent","createFunctionalComponent","warn","isDef","isUndef","isTrue","isObject","resolveAsyncComponent","createAsyncPlaceholder","extractPropsFromVNodeData","callHook","activeInstance","updateChildComponent","activateChildComponent","deactivateChildComponent","isRecyclableComponent","renderRecyclableComponentTemplate","componentVNodeHooks","init","vnode","hydrating","componentInstance","_isDestroyed","data","keepAlive","mountedNode","prepatch","child","createComponentInstanceForVnode","$mount","elm","undefined","oldVnode","options","componentOptions","propsData","listeners","children","insert","context","_isMounted","destroy","$destroy","hooksToMerge","Object","keys","createComponent","Ctor","tag","baseCtor","$options","_base","extend","process","env","NODE_ENV","String","asyncFactory","cid","model","transformModel","functional","on","nativeOn","abstract","slot","installComponentHooks","name","__WEEX__","parent","_isComponent","_parentVnode","inlineTemplate","render","staticRenderFns","hooks","hook","i","length","key","existing","toMerge","_merged","mergeHook","f1","f2","merged","a","b","prop","event","props","value","callback","Array","isArray","indexOf","concat"],"mappings":"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","sourcesContent":["/*       */\n\nimport VNode from './vnode'\nimport {resolveConstructorOptions} from '../../core/instance/init'\nimport {queueActivatedComponent} from '../../core/observer/scheduler'\nimport {createFunctionalComponent} from './create-functional-component'\n\nimport {\n  warn,\n  isDef,\n  isUndef,\n  isTrue,\n  isObject\n} from '../util/index'\n\nimport {\n  resolveAsyncComponent,\n  createAsyncPlaceholder,\n  extractPropsFromVNodeData\n} from './helpers/index'\n\nimport {\n  callHook,\n  activeInstance,\n  updateChildComponent,\n  activateChildComponent,\n  deactivateChildComponent\n} from '../instance/lifecycle'\n\nimport {\n  isRecyclableComponent,\n  renderRecyclableComponentTemplate\n} from '../../platforms/weex/runtime/recycle-list/render-component-template'\n\n// inline hooks to be invoked on component VNodes during patch\nconst componentVNodeHooks = {\n  init(vnode, hydrating) {\n    if (\n      vnode.componentInstance &&\n      !vnode.componentInstance._isDestroyed &&\n      vnode.data.keepAlive\n    ) {\n      // kept-alive components, treat as a patch\n      const mountedNode = vnode // work around flow\n      componentVNodeHooks.prepatch(mountedNode, mountedNode)\n    } else {\n      const child = vnode.componentInstance = createComponentInstanceForVnode(\n        vnode,\n        activeInstance\n      )\n      child.$mount(hydrating ? vnode.elm : undefined, hydrating)\n    }\n  },\n\n  prepatch(oldVnode, vnode) {\n    const options = vnode.componentOptions\n    const child = vnode.componentInstance = oldVnode.componentInstance\n    updateChildComponent(\n      child,\n      options.propsData, // updated props\n      options.listeners, // updated listeners\n      vnode, // new parent vnode\n      options.children // new children\n    )\n  },\n\n  insert(vnode) {\n    const {context, componentInstance} = vnode\n    if (!componentInstance._isMounted) {\n      componentInstance._isMounted = true\n      callHook(componentInstance, 'mounted')\n    }\n    if (vnode.data.keepAlive) {\n      if (context._isMounted) {\n        // vue-router#1212\n        // During updates, a kept-alive component's child components may\n        // change, so directly walking the tree here may call activated hooks\n        // on incorrect children. Instead we push them into a queue which will\n        // be processed after the whole patch process ended.\n        queueActivatedComponent(componentInstance)\n      } else {\n        activateChildComponent(componentInstance, true /* direct */)\n      }\n    }\n  },\n\n  destroy(vnode) {\n    const {componentInstance} = vnode\n    if (!componentInstance._isDestroyed) {\n      if (!vnode.data.keepAlive) {\n        componentInstance.$destroy()\n      } else {\n        deactivateChildComponent(componentInstance, true /* direct */)\n      }\n    }\n  }\n}\n\nconst hooksToMerge = Object.keys(componentVNodeHooks)\n\nexport function createComponent(\n  Ctor,\n  data,\n  context,\n  children,\n  tag\n) {\n  if (isUndef(Ctor)) {\n    return\n  }\n\n  const baseCtor = context.$options._base\n\n  // plain options object: turn it into a constructor\n  if (isObject(Ctor)) {\n    Ctor = baseCtor.extend(Ctor)\n  }\n\n  // if at this stage it's not a constructor or an async component factory,\n  // reject.\n  if (typeof Ctor !== 'function') {\n    if (process.env.NODE_ENV !== 'production') {\n      warn(`Invalid Component definition: ${String(Ctor)}`, context)\n    }\n    return\n  }\n\n  // async component\n  let asyncFactory\n  if (isUndef(Ctor.cid)) {\n    asyncFactory = Ctor\n    Ctor = resolveAsyncComponent(asyncFactory, baseCtor, context)\n    if (Ctor === undefined) {\n      // return a placeholder node for async component, which is rendered\n      // as a comment node but preserves all the raw information for the node.\n      // the information will be used for async server-rendering and hydration.\n      return createAsyncPlaceholder(\n        asyncFactory,\n        data,\n        context,\n        children,\n        tag\n      )\n    }\n  }\n\n  data = data || {}\n\n  // resolve constructor options in case global mixins are applied after\n  // component constructor creation\n  resolveConstructorOptions(Ctor)\n\n  // transform component v-model data into props & events\n  if (isDef(data.model)) {\n    transformModel(Ctor.options, data)\n  }\n\n  // extract props\n  const propsData = extractPropsFromVNodeData(data, Ctor, tag)\n\n  // functional component\n  if (isTrue(Ctor.options.functional)) {\n    return createFunctionalComponent(Ctor, propsData, data, context, children)\n  }\n\n  // extract listeners, since these needs to be treated as\n  // child component listeners instead of DOM listeners\n  const listeners = data.on\n  // replace with listeners with .native modifier\n  // so it gets processed during parent component patch.\n  data.on = data.nativeOn\n\n  if (isTrue(Ctor.options.abstract)) {\n    // abstract components do not keep anything\n    // other than props & listeners & slot\n\n    // work around flow\n    const slot = data.slot\n    data = {}\n    if (slot) {\n      data.slot = slot\n    }\n  }\n\n  // install component management hooks onto the placeholder node\n  installComponentHooks(data)\n\n  // return a placeholder vnode\n  const name = Ctor.options.name || tag\n  const vnode = new VNode(\n    `vue-component-${Ctor.cid}${name ? `-${name}` : ''}`,\n    data, undefined, undefined, undefined, context,\n    {Ctor, propsData, listeners, tag, children},\n    asyncFactory\n  )\n\n  // Weex specific: invoke recycle-list optimized @render function for\n  // extracting cell-slot template.\n  // https://github.com/Hanks10100/weex-native-directive/tree/master/component\n  /* istanbul ignore if */\n  if (__WEEX__ && isRecyclableComponent(vnode)) {\n    return renderRecyclableComponentTemplate(vnode)\n  }\n\n  return vnode\n}\n\nexport function createComponentInstanceForVnode(\n  vnode, // we know it's MountedComponentVNode but flow doesn't\n  parent, // activeInstance in lifecycle state\n) {\n  const options = {\n    _isComponent: true,\n    _parentVnode: vnode,\n    parent\n  }\n  // check inline-template render functions\n  const inlineTemplate = vnode.data.inlineTemplate\n  if (isDef(inlineTemplate)) {\n    options.render = inlineTemplate.render\n    options.staticRenderFns = inlineTemplate.staticRenderFns\n  }\n  return new vnode.componentOptions.Ctor(options)\n}\n\nfunction installComponentHooks(data) {\n  const hooks = data.hook || (data.hook = {})\n  for (let i = 0; i < hooksToMerge.length; i++) {\n    const key = hooksToMerge[i]\n    const existing = hooks[key]\n    const toMerge = componentVNodeHooks[key]\n    if (existing !== toMerge && !(existing && existing._merged)) {\n      hooks[key] = existing ? mergeHook(toMerge, existing) : toMerge\n    }\n  }\n}\n\nfunction mergeHook(f1, f2) {\n  const merged = (a, b) => {\n    // flow complains about extra args which is why we use any\n    f1(a, b)\n    f2(a, b)\n  }\n  merged._merged = true\n  return merged\n}\n\n// transform component v-model info (value and callback) into\n// prop and event handler respectively.\nfunction transformModel(options, data) {\n  const prop = (options.model && options.model.prop) || 'value'\n  const event = (options.model && options.model.event) || 'input'\n  ;(data.props || (data.props = {}))[prop] = data.model.value\n  const on = data.on || (data.on = {})\n  const existing = on[event]\n  const callback = data.model.callback\n  if (isDef(existing)) {\n    if (\n      Array.isArray(existing)\n        ? existing.indexOf(callback) === -1\n        : existing !== callback\n    ) {\n      on[event] = [callback].concat(existing)\n    }\n  } else {\n    on[event] = callback\n  }\n}\n"]}]}