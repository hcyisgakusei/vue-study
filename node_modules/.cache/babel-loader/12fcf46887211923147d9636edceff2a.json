{"remainingRequest":"/Users/tech/workspace/demo/vue-demo/node_modules/babel-loader/lib/index.js!/Users/tech/workspace/demo/vue-demo/src/vueResource/platforms/web/runtime/modules/transition.js","dependencies":[{"path":"/Users/tech/workspace/demo/vue-demo/src/vueResource/platforms/web/runtime/modules/transition.js","mtime":1596625044731},{"path":"/Users/tech/workspace/demo/vue-demo/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/tech/workspace/demo/vue-demo/node_modules/babel-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:LyogICAgICAgKi8KaW1wb3J0IHsgaW5Ccm93c2VyLCBpc0lFOSwgd2FybiB9IGZyb20gJy4uLy4uLy4uLy4uL2NvcmUvdXRpbC9pbmRleCc7CmltcG9ydCB7IG1lcmdlVk5vZGVIb29rIH0gZnJvbSAnLi4vLi4vLi4vLi4vY29yZS92ZG9tL2hlbHBlcnMvaW5kZXgnOwppbXBvcnQgeyBhY3RpdmVJbnN0YW5jZSB9IGZyb20gJy4uLy4uLy4uLy4uL2NvcmUvaW5zdGFuY2UvbGlmZWN5Y2xlJzsKaW1wb3J0IHsgb25jZSwgaXNEZWYsIGlzVW5kZWYsIGlzT2JqZWN0LCB0b051bWJlciB9IGZyb20gJy4uLy4uLy4uLy4uL3NoYXJlZC91dGlsJzsKaW1wb3J0IHsgbmV4dEZyYW1lLCByZXNvbHZlVHJhbnNpdGlvbiwgd2hlblRyYW5zaXRpb25FbmRzLCBhZGRUcmFuc2l0aW9uQ2xhc3MsIHJlbW92ZVRyYW5zaXRpb25DbGFzcyB9IGZyb20gJy4uL3RyYW5zaXRpb24tdXRpbCc7CmV4cG9ydCBmdW5jdGlvbiBlbnRlcih2bm9kZSwgdG9nZ2xlRGlzcGxheSkgewogIHZhciBlbCA9IHZub2RlLmVsbTsgLy8gY2FsbCBsZWF2ZSBjYWxsYmFjayBub3cKCiAgaWYgKGlzRGVmKGVsLl9sZWF2ZUNiKSkgewogICAgZWwuX2xlYXZlQ2IuY2FuY2VsbGVkID0gdHJ1ZTsKCiAgICBlbC5fbGVhdmVDYigpOwogIH0KCiAgdmFyIGRhdGEgPSByZXNvbHZlVHJhbnNpdGlvbih2bm9kZS5kYXRhLnRyYW5zaXRpb24pOwoKICBpZiAoaXNVbmRlZihkYXRhKSkgewogICAgcmV0dXJuOwogIH0KICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi8KCgogIGlmIChpc0RlZihlbC5fZW50ZXJDYikgfHwgZWwubm9kZVR5cGUgIT09IDEpIHsKICAgIHJldHVybjsKICB9CgogIHZhciBjc3MgPSBkYXRhLmNzcywKICAgICAgdHlwZSA9IGRhdGEudHlwZSwKICAgICAgZW50ZXJDbGFzcyA9IGRhdGEuZW50ZXJDbGFzcywKICAgICAgZW50ZXJUb0NsYXNzID0gZGF0YS5lbnRlclRvQ2xhc3MsCiAgICAgIGVudGVyQWN0aXZlQ2xhc3MgPSBkYXRhLmVudGVyQWN0aXZlQ2xhc3MsCiAgICAgIGFwcGVhckNsYXNzID0gZGF0YS5hcHBlYXJDbGFzcywKICAgICAgYXBwZWFyVG9DbGFzcyA9IGRhdGEuYXBwZWFyVG9DbGFzcywKICAgICAgYXBwZWFyQWN0aXZlQ2xhc3MgPSBkYXRhLmFwcGVhckFjdGl2ZUNsYXNzLAogICAgICBiZWZvcmVFbnRlciA9IGRhdGEuYmVmb3JlRW50ZXIsCiAgICAgIGVudGVyID0gZGF0YS5lbnRlciwKICAgICAgYWZ0ZXJFbnRlciA9IGRhdGEuYWZ0ZXJFbnRlciwKICAgICAgZW50ZXJDYW5jZWxsZWQgPSBkYXRhLmVudGVyQ2FuY2VsbGVkLAogICAgICBiZWZvcmVBcHBlYXIgPSBkYXRhLmJlZm9yZUFwcGVhciwKICAgICAgYXBwZWFyID0gZGF0YS5hcHBlYXIsCiAgICAgIGFmdGVyQXBwZWFyID0gZGF0YS5hZnRlckFwcGVhciwKICAgICAgYXBwZWFyQ2FuY2VsbGVkID0gZGF0YS5hcHBlYXJDYW5jZWxsZWQsCiAgICAgIGR1cmF0aW9uID0gZGF0YS5kdXJhdGlvbjsgLy8gYWN0aXZlSW5zdGFuY2Ugd2lsbCBhbHdheXMgYmUgdGhlIDx0cmFuc2l0aW9uPiBjb21wb25lbnQgbWFuYWdpbmcgdGhpcwogIC8vIHRyYW5zaXRpb24uIE9uZSBlZGdlIGNhc2UgdG8gY2hlY2sgaXMgd2hlbiB0aGUgPHRyYW5zaXRpb24+IGlzIHBsYWNlZAogIC8vIGFzIHRoZSByb290IG5vZGUgb2YgYSBjaGlsZCBjb21wb25lbnQuIEluIHRoYXQgY2FzZSB3ZSBuZWVkIHRvIGNoZWNrCiAgLy8gPHRyYW5zaXRpb24+J3MgcGFyZW50IGZvciBhcHBlYXIgY2hlY2suCgogIHZhciBjb250ZXh0ID0gYWN0aXZlSW5zdGFuY2U7CiAgdmFyIHRyYW5zaXRpb25Ob2RlID0gYWN0aXZlSW5zdGFuY2UuJHZub2RlOwoKICB3aGlsZSAodHJhbnNpdGlvbk5vZGUgJiYgdHJhbnNpdGlvbk5vZGUucGFyZW50KSB7CiAgICB0cmFuc2l0aW9uTm9kZSA9IHRyYW5zaXRpb25Ob2RlLnBhcmVudDsKICAgIGNvbnRleHQgPSB0cmFuc2l0aW9uTm9kZS5jb250ZXh0OwogIH0KCiAgdmFyIGlzQXBwZWFyID0gIWNvbnRleHQuX2lzTW91bnRlZCB8fCAhdm5vZGUuaXNSb290SW5zZXJ0OwoKICBpZiAoaXNBcHBlYXIgJiYgIWFwcGVhciAmJiBhcHBlYXIgIT09ICcnKSB7CiAgICByZXR1cm47CiAgfQoKICB2YXIgc3RhcnRDbGFzcyA9IGlzQXBwZWFyICYmIGFwcGVhckNsYXNzID8gYXBwZWFyQ2xhc3MgOiBlbnRlckNsYXNzOwogIHZhciBhY3RpdmVDbGFzcyA9IGlzQXBwZWFyICYmIGFwcGVhckFjdGl2ZUNsYXNzID8gYXBwZWFyQWN0aXZlQ2xhc3MgOiBlbnRlckFjdGl2ZUNsYXNzOwogIHZhciB0b0NsYXNzID0gaXNBcHBlYXIgJiYgYXBwZWFyVG9DbGFzcyA/IGFwcGVhclRvQ2xhc3MgOiBlbnRlclRvQ2xhc3M7CiAgdmFyIGJlZm9yZUVudGVySG9vayA9IGlzQXBwZWFyID8gYmVmb3JlQXBwZWFyIHx8IGJlZm9yZUVudGVyIDogYmVmb3JlRW50ZXI7CiAgdmFyIGVudGVySG9vayA9IGlzQXBwZWFyID8gdHlwZW9mIGFwcGVhciA9PT0gJ2Z1bmN0aW9uJyA/IGFwcGVhciA6IGVudGVyIDogZW50ZXI7CiAgdmFyIGFmdGVyRW50ZXJIb29rID0gaXNBcHBlYXIgPyBhZnRlckFwcGVhciB8fCBhZnRlckVudGVyIDogYWZ0ZXJFbnRlcjsKICB2YXIgZW50ZXJDYW5jZWxsZWRIb29rID0gaXNBcHBlYXIgPyBhcHBlYXJDYW5jZWxsZWQgfHwgZW50ZXJDYW5jZWxsZWQgOiBlbnRlckNhbmNlbGxlZDsKICB2YXIgZXhwbGljaXRFbnRlckR1cmF0aW9uID0gdG9OdW1iZXIoaXNPYmplY3QoZHVyYXRpb24pID8gZHVyYXRpb24uZW50ZXIgOiBkdXJhdGlvbik7CgogIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nICYmIGV4cGxpY2l0RW50ZXJEdXJhdGlvbiAhPSBudWxsKSB7CiAgICBjaGVja0R1cmF0aW9uKGV4cGxpY2l0RW50ZXJEdXJhdGlvbiwgJ2VudGVyJywgdm5vZGUpOwogIH0KCiAgdmFyIGV4cGVjdHNDU1MgPSBjc3MgIT09IGZhbHNlICYmICFpc0lFOTsKICB2YXIgdXNlcldhbnRzQ29udHJvbCA9IGdldEhvb2tBcmd1bWVudHNMZW5ndGgoZW50ZXJIb29rKTsKICB2YXIgY2IgPSBlbC5fZW50ZXJDYiA9IG9uY2UoZnVuY3Rpb24gKCkgewogICAgaWYgKGV4cGVjdHNDU1MpIHsKICAgICAgcmVtb3ZlVHJhbnNpdGlvbkNsYXNzKGVsLCB0b0NsYXNzKTsKICAgICAgcmVtb3ZlVHJhbnNpdGlvbkNsYXNzKGVsLCBhY3RpdmVDbGFzcyk7CiAgICB9CgogICAgaWYgKGNiLmNhbmNlbGxlZCkgewogICAgICBpZiAoZXhwZWN0c0NTUykgewogICAgICAgIHJlbW92ZVRyYW5zaXRpb25DbGFzcyhlbCwgc3RhcnRDbGFzcyk7CiAgICAgIH0KCiAgICAgIGVudGVyQ2FuY2VsbGVkSG9vayAmJiBlbnRlckNhbmNlbGxlZEhvb2soZWwpOwogICAgfSBlbHNlIHsKICAgICAgYWZ0ZXJFbnRlckhvb2sgJiYgYWZ0ZXJFbnRlckhvb2soZWwpOwogICAgfQoKICAgIGVsLl9lbnRlckNiID0gbnVsbDsKICB9KTsKCiAgaWYgKCF2bm9kZS5kYXRhLnNob3cpIHsKICAgIC8vIHJlbW92ZSBwZW5kaW5nIGxlYXZlIGVsZW1lbnQgb24gZW50ZXIgYnkgaW5qZWN0aW5nIGFuIGluc2VydCBob29rCiAgICBtZXJnZVZOb2RlSG9vayh2bm9kZSwgJ2luc2VydCcsIGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIHBhcmVudCA9IGVsLnBhcmVudE5vZGU7CiAgICAgIHZhciBwZW5kaW5nTm9kZSA9IHBhcmVudCAmJiBwYXJlbnQuX3BlbmRpbmcgJiYgcGFyZW50Ll9wZW5kaW5nW3Zub2RlLmtleV07CgogICAgICBpZiAocGVuZGluZ05vZGUgJiYgcGVuZGluZ05vZGUudGFnID09PSB2bm9kZS50YWcgJiYgcGVuZGluZ05vZGUuZWxtLl9sZWF2ZUNiKSB7CiAgICAgICAgcGVuZGluZ05vZGUuZWxtLl9sZWF2ZUNiKCk7CiAgICAgIH0KCiAgICAgIGVudGVySG9vayAmJiBlbnRlckhvb2soZWwsIGNiKTsKICAgIH0pOwogIH0gLy8gc3RhcnQgZW50ZXIgdHJhbnNpdGlvbgoKCiAgYmVmb3JlRW50ZXJIb29rICYmIGJlZm9yZUVudGVySG9vayhlbCk7CgogIGlmIChleHBlY3RzQ1NTKSB7CiAgICBhZGRUcmFuc2l0aW9uQ2xhc3MoZWwsIHN0YXJ0Q2xhc3MpOwogICAgYWRkVHJhbnNpdGlvbkNsYXNzKGVsLCBhY3RpdmVDbGFzcyk7CiAgICBuZXh0RnJhbWUoZnVuY3Rpb24gKCkgewogICAgICByZW1vdmVUcmFuc2l0aW9uQ2xhc3MoZWwsIHN0YXJ0Q2xhc3MpOwoKICAgICAgaWYgKCFjYi5jYW5jZWxsZWQpIHsKICAgICAgICBhZGRUcmFuc2l0aW9uQ2xhc3MoZWwsIHRvQ2xhc3MpOwoKICAgICAgICBpZiAoIXVzZXJXYW50c0NvbnRyb2wpIHsKICAgICAgICAgIGlmIChpc1ZhbGlkRHVyYXRpb24oZXhwbGljaXRFbnRlckR1cmF0aW9uKSkgewogICAgICAgICAgICBzZXRUaW1lb3V0KGNiLCBleHBsaWNpdEVudGVyRHVyYXRpb24pOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgd2hlblRyYW5zaXRpb25FbmRzKGVsLCB0eXBlLCBjYik7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CiAgICB9KTsKICB9CgogIGlmICh2bm9kZS5kYXRhLnNob3cpIHsKICAgIHRvZ2dsZURpc3BsYXkgJiYgdG9nZ2xlRGlzcGxheSgpOwogICAgZW50ZXJIb29rICYmIGVudGVySG9vayhlbCwgY2IpOwogIH0KCiAgaWYgKCFleHBlY3RzQ1NTICYmICF1c2VyV2FudHNDb250cm9sKSB7CiAgICBjYigpOwogIH0KfQpleHBvcnQgZnVuY3Rpb24gbGVhdmUodm5vZGUsIHJtKSB7CiAgdmFyIGVsID0gdm5vZGUuZWxtOyAvLyBjYWxsIGVudGVyIGNhbGxiYWNrIG5vdwoKICBpZiAoaXNEZWYoZWwuX2VudGVyQ2IpKSB7CiAgICBlbC5fZW50ZXJDYi5jYW5jZWxsZWQgPSB0cnVlOwoKICAgIGVsLl9lbnRlckNiKCk7CiAgfQoKICB2YXIgZGF0YSA9IHJlc29sdmVUcmFuc2l0aW9uKHZub2RlLmRhdGEudHJhbnNpdGlvbik7CgogIGlmIChpc1VuZGVmKGRhdGEpIHx8IGVsLm5vZGVUeXBlICE9PSAxKSB7CiAgICByZXR1cm4gcm0oKTsKICB9CiAgLyogaXN0YW5idWwgaWdub3JlIGlmICovCgoKICBpZiAoaXNEZWYoZWwuX2xlYXZlQ2IpKSB7CiAgICByZXR1cm47CiAgfQoKICB2YXIgY3NzID0gZGF0YS5jc3MsCiAgICAgIHR5cGUgPSBkYXRhLnR5cGUsCiAgICAgIGxlYXZlQ2xhc3MgPSBkYXRhLmxlYXZlQ2xhc3MsCiAgICAgIGxlYXZlVG9DbGFzcyA9IGRhdGEubGVhdmVUb0NsYXNzLAogICAgICBsZWF2ZUFjdGl2ZUNsYXNzID0gZGF0YS5sZWF2ZUFjdGl2ZUNsYXNzLAogICAgICBiZWZvcmVMZWF2ZSA9IGRhdGEuYmVmb3JlTGVhdmUsCiAgICAgIGxlYXZlID0gZGF0YS5sZWF2ZSwKICAgICAgYWZ0ZXJMZWF2ZSA9IGRhdGEuYWZ0ZXJMZWF2ZSwKICAgICAgbGVhdmVDYW5jZWxsZWQgPSBkYXRhLmxlYXZlQ2FuY2VsbGVkLAogICAgICBkZWxheUxlYXZlID0gZGF0YS5kZWxheUxlYXZlLAogICAgICBkdXJhdGlvbiA9IGRhdGEuZHVyYXRpb247CiAgdmFyIGV4cGVjdHNDU1MgPSBjc3MgIT09IGZhbHNlICYmICFpc0lFOTsKICB2YXIgdXNlcldhbnRzQ29udHJvbCA9IGdldEhvb2tBcmd1bWVudHNMZW5ndGgobGVhdmUpOwogIHZhciBleHBsaWNpdExlYXZlRHVyYXRpb24gPSB0b051bWJlcihpc09iamVjdChkdXJhdGlvbikgPyBkdXJhdGlvbi5sZWF2ZSA6IGR1cmF0aW9uKTsKCiAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgJiYgaXNEZWYoZXhwbGljaXRMZWF2ZUR1cmF0aW9uKSkgewogICAgY2hlY2tEdXJhdGlvbihleHBsaWNpdExlYXZlRHVyYXRpb24sICdsZWF2ZScsIHZub2RlKTsKICB9CgogIHZhciBjYiA9IGVsLl9sZWF2ZUNiID0gb25jZShmdW5jdGlvbiAoKSB7CiAgICBpZiAoZWwucGFyZW50Tm9kZSAmJiBlbC5wYXJlbnROb2RlLl9wZW5kaW5nKSB7CiAgICAgIGVsLnBhcmVudE5vZGUuX3BlbmRpbmdbdm5vZGUua2V5XSA9IG51bGw7CiAgICB9CgogICAgaWYgKGV4cGVjdHNDU1MpIHsKICAgICAgcmVtb3ZlVHJhbnNpdGlvbkNsYXNzKGVsLCBsZWF2ZVRvQ2xhc3MpOwogICAgICByZW1vdmVUcmFuc2l0aW9uQ2xhc3MoZWwsIGxlYXZlQWN0aXZlQ2xhc3MpOwogICAgfQoKICAgIGlmIChjYi5jYW5jZWxsZWQpIHsKICAgICAgaWYgKGV4cGVjdHNDU1MpIHsKICAgICAgICByZW1vdmVUcmFuc2l0aW9uQ2xhc3MoZWwsIGxlYXZlQ2xhc3MpOwogICAgICB9CgogICAgICBsZWF2ZUNhbmNlbGxlZCAmJiBsZWF2ZUNhbmNlbGxlZChlbCk7CiAgICB9IGVsc2UgewogICAgICBybSgpOwogICAgICBhZnRlckxlYXZlICYmIGFmdGVyTGVhdmUoZWwpOwogICAgfQoKICAgIGVsLl9sZWF2ZUNiID0gbnVsbDsKICB9KTsKCiAgaWYgKGRlbGF5TGVhdmUpIHsKICAgIGRlbGF5TGVhdmUocGVyZm9ybUxlYXZlKTsKICB9IGVsc2UgewogICAgcGVyZm9ybUxlYXZlKCk7CiAgfQoKICBmdW5jdGlvbiBwZXJmb3JtTGVhdmUoKSB7CiAgICAvLyB0aGUgZGVsYXllZCBsZWF2ZSBtYXkgaGF2ZSBhbHJlYWR5IGJlZW4gY2FuY2VsbGVkCiAgICBpZiAoY2IuY2FuY2VsbGVkKSB7CiAgICAgIHJldHVybjsKICAgIH0gLy8gcmVjb3JkIGxlYXZpbmcgZWxlbWVudAoKCiAgICBpZiAoIXZub2RlLmRhdGEuc2hvdyAmJiBlbC5wYXJlbnROb2RlKSB7CiAgICAgIChlbC5wYXJlbnROb2RlLl9wZW5kaW5nIHx8IChlbC5wYXJlbnROb2RlLl9wZW5kaW5nID0ge30pKVt2bm9kZS5rZXldID0gdm5vZGU7CiAgICB9CgogICAgYmVmb3JlTGVhdmUgJiYgYmVmb3JlTGVhdmUoZWwpOwoKICAgIGlmIChleHBlY3RzQ1NTKSB7CiAgICAgIGFkZFRyYW5zaXRpb25DbGFzcyhlbCwgbGVhdmVDbGFzcyk7CiAgICAgIGFkZFRyYW5zaXRpb25DbGFzcyhlbCwgbGVhdmVBY3RpdmVDbGFzcyk7CiAgICAgIG5leHRGcmFtZShmdW5jdGlvbiAoKSB7CiAgICAgICAgcmVtb3ZlVHJhbnNpdGlvbkNsYXNzKGVsLCBsZWF2ZUNsYXNzKTsKCiAgICAgICAgaWYgKCFjYi5jYW5jZWxsZWQpIHsKICAgICAgICAgIGFkZFRyYW5zaXRpb25DbGFzcyhlbCwgbGVhdmVUb0NsYXNzKTsKCiAgICAgICAgICBpZiAoIXVzZXJXYW50c0NvbnRyb2wpIHsKICAgICAgICAgICAgaWYgKGlzVmFsaWREdXJhdGlvbihleHBsaWNpdExlYXZlRHVyYXRpb24pKSB7CiAgICAgICAgICAgICAgc2V0VGltZW91dChjYiwgZXhwbGljaXRMZWF2ZUR1cmF0aW9uKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICB3aGVuVHJhbnNpdGlvbkVuZHMoZWwsIHR5cGUsIGNiKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSk7CiAgICB9CgogICAgbGVhdmUgJiYgbGVhdmUoZWwsIGNiKTsKCiAgICBpZiAoIWV4cGVjdHNDU1MgJiYgIXVzZXJXYW50c0NvbnRyb2wpIHsKICAgICAgY2IoKTsKICAgIH0KICB9Cn0gLy8gb25seSB1c2VkIGluIGRldiBtb2RlCgpmdW5jdGlvbiBjaGVja0R1cmF0aW9uKHZhbCwgbmFtZSwgdm5vZGUpIHsKICBpZiAodHlwZW9mIHZhbCAhPT0gJ251bWJlcicpIHsKICAgIHdhcm4oIjx0cmFuc2l0aW9uPiBleHBsaWNpdCAiLmNvbmNhdChuYW1lLCAiIGR1cmF0aW9uIGlzIG5vdCBhIHZhbGlkIG51bWJlciAtICIpICsgImdvdCAiLmNvbmNhdChKU09OLnN0cmluZ2lmeSh2YWwpLCAiLiIpLCB2bm9kZS5jb250ZXh0KTsKICB9IGVsc2UgaWYgKGlzTmFOKHZhbCkpIHsKICAgIHdhcm4oIjx0cmFuc2l0aW9uPiBleHBsaWNpdCAiLmNvbmNhdChuYW1lLCAiIGR1cmF0aW9uIGlzIE5hTiAtICIpICsgJ3RoZSBkdXJhdGlvbiBleHByZXNzaW9uIG1pZ2h0IGJlIGluY29ycmVjdC4nLCB2bm9kZS5jb250ZXh0KTsKICB9Cn0KCmZ1bmN0aW9uIGlzVmFsaWREdXJhdGlvbih2YWwpIHsKICByZXR1cm4gdHlwZW9mIHZhbCA9PT0gJ251bWJlcicgJiYgIWlzTmFOKHZhbCk7Cn0KLyoqCiAqIE5vcm1hbGl6ZSBhIHRyYW5zaXRpb24gaG9vaydzIGFyZ3VtZW50IGxlbmd0aC4gVGhlIGhvb2sgbWF5IGJlOgogKiAtIGEgbWVyZ2VkIGhvb2sgKGludm9rZXIpIHdpdGggdGhlIG9yaWdpbmFsIGluIC5mbnMKICogLSBhIHdyYXBwZWQgY29tcG9uZW50IG1ldGhvZCAoY2hlY2sgLl9sZW5ndGgpCiAqIC0gYSBwbGFpbiBmdW5jdGlvbiAoLmxlbmd0aCkKICovCgoKZnVuY3Rpb24gZ2V0SG9va0FyZ3VtZW50c0xlbmd0aChmbikgewogIGlmIChpc1VuZGVmKGZuKSkgewogICAgcmV0dXJuIGZhbHNlOwogIH0KCiAgdmFyIGludm9rZXJGbnMgPSBmbi5mbnM7CgogIGlmIChpc0RlZihpbnZva2VyRm5zKSkgewogICAgLy8gaW52b2tlcgogICAgcmV0dXJuIGdldEhvb2tBcmd1bWVudHNMZW5ndGgoQXJyYXkuaXNBcnJheShpbnZva2VyRm5zKSA/IGludm9rZXJGbnNbMF0gOiBpbnZva2VyRm5zKTsKICB9IGVsc2UgewogICAgcmV0dXJuIChmbi5fbGVuZ3RoIHx8IGZuLmxlbmd0aCkgPiAxOwogIH0KfQoKZnVuY3Rpb24gX2VudGVyKF8sIHZub2RlKSB7CiAgaWYgKHZub2RlLmRhdGEuc2hvdyAhPT0gdHJ1ZSkgewogICAgZW50ZXIodm5vZGUpOwogIH0KfQoKZXhwb3J0IGRlZmF1bHQgaW5Ccm93c2VyID8gewogIGNyZWF0ZTogX2VudGVyLAogIGFjdGl2YXRlOiBfZW50ZXIsCiAgcmVtb3ZlOiBmdW5jdGlvbiByZW1vdmUodm5vZGUsIHJtKSB7CiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqLwogICAgaWYgKHZub2RlLmRhdGEuc2hvdyAhPT0gdHJ1ZSkgewogICAgICBsZWF2ZSh2bm9kZSwgcm0pOwogICAgfSBlbHNlIHsKICAgICAgcm0oKTsKICAgIH0KICB9Cn0gOiB7fTs="},{"version":3,"sources":["/Users/tech/workspace/demo/vue-demo/src/vueResource/platforms/web/runtime/modules/transition.js"],"names":["inBrowser","isIE9","warn","mergeVNodeHook","activeInstance","once","isDef","isUndef","isObject","toNumber","nextFrame","resolveTransition","whenTransitionEnds","addTransitionClass","removeTransitionClass","enter","vnode","toggleDisplay","el","elm","_leaveCb","cancelled","data","transition","_enterCb","nodeType","css","type","enterClass","enterToClass","enterActiveClass","appearClass","appearToClass","appearActiveClass","beforeEnter","afterEnter","enterCancelled","beforeAppear","appear","afterAppear","appearCancelled","duration","context","transitionNode","$vnode","parent","isAppear","_isMounted","isRootInsert","startClass","activeClass","toClass","beforeEnterHook","enterHook","afterEnterHook","enterCancelledHook","explicitEnterDuration","process","env","NODE_ENV","checkDuration","expectsCSS","userWantsControl","getHookArgumentsLength","cb","show","parentNode","pendingNode","_pending","key","tag","isValidDuration","setTimeout","leave","rm","leaveClass","leaveToClass","leaveActiveClass","beforeLeave","afterLeave","leaveCancelled","delayLeave","explicitLeaveDuration","performLeave","val","name","JSON","stringify","isNaN","fn","invokerFns","fns","Array","isArray","_length","length","_enter","_","create","activate","remove"],"mappings":"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","sourcesContent":["/*       */\n\nimport {inBrowser, isIE9, warn} from '../../../../core/util/index'\nimport {mergeVNodeHook} from '../../../../core/vdom/helpers/index'\nimport {activeInstance} from '../../../../core/instance/lifecycle'\n\nimport {\n  once,\n  isDef,\n  isUndef,\n  isObject,\n  toNumber\n} from '../../../../shared/util'\n\nimport {\n  nextFrame,\n  resolveTransition,\n  whenTransitionEnds,\n  addTransitionClass,\n  removeTransitionClass\n} from '../transition-util'\n\nexport function enter(vnode, toggleDisplay) {\n  const el = vnode.elm\n\n  // call leave callback now\n  if (isDef(el._leaveCb)) {\n    el._leaveCb.cancelled = true\n    el._leaveCb()\n  }\n\n  const data = resolveTransition(vnode.data.transition)\n  if (isUndef(data)) {\n    return\n  }\n\n  /* istanbul ignore if */\n  if (isDef(el._enterCb) || el.nodeType !== 1) {\n    return\n  }\n\n  const {\n    css,\n    type,\n    enterClass,\n    enterToClass,\n    enterActiveClass,\n    appearClass,\n    appearToClass,\n    appearActiveClass,\n    beforeEnter,\n    enter,\n    afterEnter,\n    enterCancelled,\n    beforeAppear,\n    appear,\n    afterAppear,\n    appearCancelled,\n    duration\n  } = data\n\n  // activeInstance will always be the <transition> component managing this\n  // transition. One edge case to check is when the <transition> is placed\n  // as the root node of a child component. In that case we need to check\n  // <transition>'s parent for appear check.\n  let context = activeInstance\n  let transitionNode = activeInstance.$vnode\n  while (transitionNode && transitionNode.parent) {\n    transitionNode = transitionNode.parent\n    context = transitionNode.context\n  }\n\n  const isAppear = !context._isMounted || !vnode.isRootInsert\n\n  if (isAppear && !appear && appear !== '') {\n    return\n  }\n\n  const startClass = isAppear && appearClass\n    ? appearClass\n    : enterClass\n  const activeClass = isAppear && appearActiveClass\n    ? appearActiveClass\n    : enterActiveClass\n  const toClass = isAppear && appearToClass\n    ? appearToClass\n    : enterToClass\n\n  const beforeEnterHook = isAppear\n    ? (beforeAppear || beforeEnter)\n    : beforeEnter\n  const enterHook = isAppear\n    ? (typeof appear === 'function' ? appear : enter)\n    : enter\n  const afterEnterHook = isAppear\n    ? (afterAppear || afterEnter)\n    : afterEnter\n  const enterCancelledHook = isAppear\n    ? (appearCancelled || enterCancelled)\n    : enterCancelled\n\n  const explicitEnterDuration = toNumber(\n    isObject(duration)\n      ? duration.enter\n      : duration\n  )\n\n  if (process.env.NODE_ENV !== 'production' && explicitEnterDuration != null) {\n    checkDuration(explicitEnterDuration, 'enter', vnode)\n  }\n\n  const expectsCSS = css !== false && !isIE9\n  const userWantsControl = getHookArgumentsLength(enterHook)\n\n  const cb = el._enterCb = once(() => {\n    if (expectsCSS) {\n      removeTransitionClass(el, toClass)\n      removeTransitionClass(el, activeClass)\n    }\n    if (cb.cancelled) {\n      if (expectsCSS) {\n        removeTransitionClass(el, startClass)\n      }\n      enterCancelledHook && enterCancelledHook(el)\n    } else {\n      afterEnterHook && afterEnterHook(el)\n    }\n    el._enterCb = null\n  })\n\n  if (!vnode.data.show) {\n    // remove pending leave element on enter by injecting an insert hook\n    mergeVNodeHook(vnode, 'insert', () => {\n      const parent = el.parentNode\n      const pendingNode = parent && parent._pending && parent._pending[vnode.key]\n      if (pendingNode &&\n        pendingNode.tag === vnode.tag &&\n        pendingNode.elm._leaveCb\n      ) {\n        pendingNode.elm._leaveCb()\n      }\n      enterHook && enterHook(el, cb)\n    })\n  }\n\n  // start enter transition\n  beforeEnterHook && beforeEnterHook(el)\n  if (expectsCSS) {\n    addTransitionClass(el, startClass)\n    addTransitionClass(el, activeClass)\n    nextFrame(() => {\n      removeTransitionClass(el, startClass)\n      if (!cb.cancelled) {\n        addTransitionClass(el, toClass)\n        if (!userWantsControl) {\n          if (isValidDuration(explicitEnterDuration)) {\n            setTimeout(cb, explicitEnterDuration)\n          } else {\n            whenTransitionEnds(el, type, cb)\n          }\n        }\n      }\n    })\n  }\n\n  if (vnode.data.show) {\n    toggleDisplay && toggleDisplay()\n    enterHook && enterHook(el, cb)\n  }\n\n  if (!expectsCSS && !userWantsControl) {\n    cb()\n  }\n}\n\nexport function leave(vnode, rm) {\n  const el = vnode.elm\n\n  // call enter callback now\n  if (isDef(el._enterCb)) {\n    el._enterCb.cancelled = true\n    el._enterCb()\n  }\n\n  const data = resolveTransition(vnode.data.transition)\n  if (isUndef(data) || el.nodeType !== 1) {\n    return rm()\n  }\n\n  /* istanbul ignore if */\n  if (isDef(el._leaveCb)) {\n    return\n  }\n\n  const {\n    css,\n    type,\n    leaveClass,\n    leaveToClass,\n    leaveActiveClass,\n    beforeLeave,\n    leave,\n    afterLeave,\n    leaveCancelled,\n    delayLeave,\n    duration\n  } = data\n\n  const expectsCSS = css !== false && !isIE9\n  const userWantsControl = getHookArgumentsLength(leave)\n\n  const explicitLeaveDuration = toNumber(\n    isObject(duration)\n      ? duration.leave\n      : duration\n  )\n\n  if (process.env.NODE_ENV !== 'production' && isDef(explicitLeaveDuration)) {\n    checkDuration(explicitLeaveDuration, 'leave', vnode)\n  }\n\n  const cb = el._leaveCb = once(() => {\n    if (el.parentNode && el.parentNode._pending) {\n      el.parentNode._pending[vnode.key] = null\n    }\n    if (expectsCSS) {\n      removeTransitionClass(el, leaveToClass)\n      removeTransitionClass(el, leaveActiveClass)\n    }\n    if (cb.cancelled) {\n      if (expectsCSS) {\n        removeTransitionClass(el, leaveClass)\n      }\n      leaveCancelled && leaveCancelled(el)\n    } else {\n      rm()\n      afterLeave && afterLeave(el)\n    }\n    el._leaveCb = null\n  })\n\n  if (delayLeave) {\n    delayLeave(performLeave)\n  } else {\n    performLeave()\n  }\n\n  function performLeave() {\n    // the delayed leave may have already been cancelled\n    if (cb.cancelled) {\n      return\n    }\n    // record leaving element\n    if (!vnode.data.show && el.parentNode) {\n      (el.parentNode._pending || (el.parentNode._pending = {}))[(vnode.key)] = vnode\n    }\n    beforeLeave && beforeLeave(el)\n    if (expectsCSS) {\n      addTransitionClass(el, leaveClass)\n      addTransitionClass(el, leaveActiveClass)\n      nextFrame(() => {\n        removeTransitionClass(el, leaveClass)\n        if (!cb.cancelled) {\n          addTransitionClass(el, leaveToClass)\n          if (!userWantsControl) {\n            if (isValidDuration(explicitLeaveDuration)) {\n              setTimeout(cb, explicitLeaveDuration)\n            } else {\n              whenTransitionEnds(el, type, cb)\n            }\n          }\n        }\n      })\n    }\n    leave && leave(el, cb)\n    if (!expectsCSS && !userWantsControl) {\n      cb()\n    }\n  }\n}\n\n// only used in dev mode\nfunction checkDuration(val, name, vnode) {\n  if (typeof val !== 'number') {\n    warn(\n      `<transition> explicit ${name} duration is not a valid number - ` +\n      `got ${JSON.stringify(val)}.`,\n      vnode.context\n    )\n  } else if (isNaN(val)) {\n    warn(\n      `<transition> explicit ${name} duration is NaN - ` +\n      'the duration expression might be incorrect.',\n      vnode.context\n    )\n  }\n}\n\nfunction isValidDuration(val) {\n  return typeof val === 'number' && !isNaN(val)\n}\n\n/**\n * Normalize a transition hook's argument length. The hook may be:\n * - a merged hook (invoker) with the original in .fns\n * - a wrapped component method (check ._length)\n * - a plain function (.length)\n */\nfunction getHookArgumentsLength(fn) {\n  if (isUndef(fn)) {\n    return false\n  }\n  const invokerFns = fn.fns\n  if (isDef(invokerFns)) {\n    // invoker\n    return getHookArgumentsLength(\n      Array.isArray(invokerFns)\n        ? invokerFns[0]\n        : invokerFns\n    )\n  } else {\n    return (fn._length || fn.length) > 1\n  }\n}\n\nfunction _enter(_, vnode) {\n  if (vnode.data.show !== true) {\n    enter(vnode)\n  }\n}\n\nexport default inBrowser ? {\n  create: _enter,\n  activate: _enter,\n  remove(vnode, rm) {\n    /* istanbul ignore else */\n    if (vnode.data.show !== true) {\n      leave(vnode, rm)\n    } else {\n      rm()\n    }\n  }\n} : {}\n"]}]}