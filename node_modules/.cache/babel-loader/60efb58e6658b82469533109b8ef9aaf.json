{"remainingRequest":"/Users/tech/workspace/demo/vue-demo/node_modules/babel-loader/lib/index.js!/Users/tech/workspace/demo/vue-demo/src/vueResource/compiler/directives/model.js","dependencies":[{"path":"/Users/tech/workspace/demo/vue-demo/src/vueResource/compiler/directives/model.js","mtime":1596450179000},{"path":"/Users/tech/workspace/demo/vue-demo/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/tech/workspace/demo/vue-demo/node_modules/babel-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5kZXgtb2YiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5sYXN0LWluZGV4LW9mIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc2xpY2UiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcudHJpbSI7CgovKiAgICAgICAqLwoKLyoqCiAqIENyb3NzLXBsYXRmb3JtIGNvZGUgZ2VuZXJhdGlvbiBmb3IgY29tcG9uZW50IHYtbW9kZWwKICovCmV4cG9ydCBmdW5jdGlvbiBnZW5Db21wb25lbnRNb2RlbChlbCwgdmFsdWUsIG1vZGlmaWVycykgewogIHZhciBfcmVmID0gbW9kaWZpZXJzIHx8IHt9LAogICAgICBudW1iZXIgPSBfcmVmLm51bWJlciwKICAgICAgdHJpbSA9IF9yZWYudHJpbTsKCiAgdmFyIGJhc2VWYWx1ZUV4cHJlc3Npb24gPSAnJCR2JzsKICB2YXIgdmFsdWVFeHByZXNzaW9uID0gYmFzZVZhbHVlRXhwcmVzc2lvbjsKCiAgaWYgKHRyaW0pIHsKICAgIHZhbHVlRXhwcmVzc2lvbiA9ICIodHlwZW9mICIuY29uY2F0KGJhc2VWYWx1ZUV4cHJlc3Npb24sICIgPT09ICdzdHJpbmcnIikgKyAiPyAiLmNvbmNhdChiYXNlVmFsdWVFeHByZXNzaW9uLCAiLnRyaW0oKSIpICsgIjogIi5jb25jYXQoYmFzZVZhbHVlRXhwcmVzc2lvbiwgIikiKTsKICB9CgogIGlmIChudW1iZXIpIHsKICAgIHZhbHVlRXhwcmVzc2lvbiA9ICJfbigiLmNvbmNhdCh2YWx1ZUV4cHJlc3Npb24sICIpIik7CiAgfQoKICB2YXIgYXNzaWdubWVudCA9IGdlbkFzc2lnbm1lbnRDb2RlKHZhbHVlLCB2YWx1ZUV4cHJlc3Npb24pOwogIGVsLm1vZGVsID0gewogICAgdmFsdWU6ICIoIi5jb25jYXQodmFsdWUsICIpIiksCiAgICBleHByZXNzaW9uOiBKU09OLnN0cmluZ2lmeSh2YWx1ZSksCiAgICBjYWxsYmFjazogImZ1bmN0aW9uICgiLmNvbmNhdChiYXNlVmFsdWVFeHByZXNzaW9uLCAiKSB7IikuY29uY2F0KGFzc2lnbm1lbnQsICJ9IikKICB9Owp9Ci8qKgogKiBDcm9zcy1wbGF0Zm9ybSBjb2RlZ2VuIGhlbHBlciBmb3IgZ2VuZXJhdGluZyB2LW1vZGVsIHZhbHVlIGFzc2lnbm1lbnQgY29kZS4KICovCgpleHBvcnQgZnVuY3Rpb24gZ2VuQXNzaWdubWVudENvZGUodmFsdWUsIGFzc2lnbm1lbnQpIHsKICB2YXIgcmVzID0gcGFyc2VNb2RlbCh2YWx1ZSk7CgogIGlmIChyZXMua2V5ID09PSBudWxsKSB7CiAgICByZXR1cm4gIiIuY29uY2F0KHZhbHVlLCAiPSIpLmNvbmNhdChhc3NpZ25tZW50KTsKICB9IGVsc2UgewogICAgcmV0dXJuICIkc2V0KCIuY29uY2F0KHJlcy5leHAsICIsICIpLmNvbmNhdChyZXMua2V5LCAiLCAiKS5jb25jYXQoYXNzaWdubWVudCwgIikiKTsKICB9Cn0KLyoqCiAqIFBhcnNlIGEgdi1tb2RlbCBleHByZXNzaW9uIGludG8gYSBiYXNlIHBhdGggYW5kIGEgZmluYWwga2V5IHNlZ21lbnQuCiAqIEhhbmRsZXMgYm90aCBkb3QtcGF0aCBhbmQgcG9zc2libGUgc3F1YXJlIGJyYWNrZXRzLgogKgogKiBQb3NzaWJsZSBjYXNlczoKICoKICogLSB0ZXN0CiAqIC0gdGVzdFtrZXldCiAqIC0gdGVzdFt0ZXN0MVtrZXldXQogKiAtIHRlc3RbImEiXVtrZXldCiAqIC0geHh4LnRlc3RbYVthXS50ZXN0MVtrZXldXQogKiAtIHRlc3QueHh4LmFbImFzYSJdW3Rlc3QxW2tleV1dCiAqCiAqLwoKdmFyIGxlbiwgc3RyLCBjaHIsIGluZGV4LCBleHByZXNzaW9uUG9zLCBleHByZXNzaW9uRW5kUG9zOwpleHBvcnQgZnVuY3Rpb24gcGFyc2VNb2RlbCh2YWwpIHsKICAvLyBGaXggaHR0cHM6Ly9naXRodWIuY29tL3Z1ZWpzL3Z1ZS9wdWxsLzc3MzAKICAvLyBhbGxvdyB2LW1vZGVsPSJvYmoudmFsICIgKHRyYWlsaW5nIHdoaXRlc3BhY2UpCiAgdmFsID0gdmFsLnRyaW0oKTsKICBsZW4gPSB2YWwubGVuZ3RoOwoKICBpZiAodmFsLmluZGV4T2YoJ1snKSA8IDAgfHwgdmFsLmxhc3RJbmRleE9mKCddJykgPCBsZW4gLSAxKSB7CiAgICBpbmRleCA9IHZhbC5sYXN0SW5kZXhPZignLicpOwoKICAgIGlmIChpbmRleCA+IC0xKSB7CiAgICAgIHJldHVybiB7CiAgICAgICAgZXhwOiB2YWwuc2xpY2UoMCwgaW5kZXgpLAogICAgICAgIGtleTogJyInICsgdmFsLnNsaWNlKGluZGV4ICsgMSkgKyAnIicKICAgICAgfTsKICAgIH0gZWxzZSB7CiAgICAgIHJldHVybiB7CiAgICAgICAgZXhwOiB2YWwsCiAgICAgICAga2V5OiBudWxsCiAgICAgIH07CiAgICB9CiAgfQoKICBzdHIgPSB2YWw7CiAgaW5kZXggPSBleHByZXNzaW9uUG9zID0gZXhwcmVzc2lvbkVuZFBvcyA9IDA7CgogIHdoaWxlICghZW9mKCkpIHsKICAgIGNociA9IG5leHQoKTsKICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqLwoKICAgIGlmIChpc1N0cmluZ1N0YXJ0KGNocikpIHsKICAgICAgcGFyc2VTdHJpbmcoY2hyKTsKICAgIH0gZWxzZSBpZiAoY2hyID09PSAweDVCKSB7CiAgICAgIHBhcnNlQnJhY2tldChjaHIpOwogICAgfQogIH0KCiAgcmV0dXJuIHsKICAgIGV4cDogdmFsLnNsaWNlKDAsIGV4cHJlc3Npb25Qb3MpLAogICAga2V5OiB2YWwuc2xpY2UoZXhwcmVzc2lvblBvcyArIDEsIGV4cHJlc3Npb25FbmRQb3MpCiAgfTsKfQoKZnVuY3Rpb24gbmV4dCgpIHsKICByZXR1cm4gc3RyLmNoYXJDb2RlQXQoKytpbmRleCk7Cn0KCmZ1bmN0aW9uIGVvZigpIHsKICByZXR1cm4gaW5kZXggPj0gbGVuOwp9CgpmdW5jdGlvbiBpc1N0cmluZ1N0YXJ0KGNocikgewogIHJldHVybiBjaHIgPT09IDB4MjIgfHwgY2hyID09PSAweDI3Owp9CgpmdW5jdGlvbiBwYXJzZUJyYWNrZXQoY2hyKSB7CiAgdmFyIGluQnJhY2tldCA9IDE7CiAgZXhwcmVzc2lvblBvcyA9IGluZGV4OwoKICB3aGlsZSAoIWVvZigpKSB7CiAgICBjaHIgPSBuZXh0KCk7CgogICAgaWYgKGlzU3RyaW5nU3RhcnQoY2hyKSkgewogICAgICBwYXJzZVN0cmluZyhjaHIpOwogICAgICBjb250aW51ZTsKICAgIH0KCiAgICBpZiAoY2hyID09PSAweDVCKSBpbkJyYWNrZXQrKzsKICAgIGlmIChjaHIgPT09IDB4NUQpIGluQnJhY2tldC0tOwoKICAgIGlmIChpbkJyYWNrZXQgPT09IDApIHsKICAgICAgZXhwcmVzc2lvbkVuZFBvcyA9IGluZGV4OwogICAgICBicmVhazsKICAgIH0KICB9Cn0KCmZ1bmN0aW9uIHBhcnNlU3RyaW5nKGNocikgewogIHZhciBzdHJpbmdRdW90ZSA9IGNocjsKCiAgd2hpbGUgKCFlb2YoKSkgewogICAgY2hyID0gbmV4dCgpOwoKICAgIGlmIChjaHIgPT09IHN0cmluZ1F1b3RlKSB7CiAgICAgIGJyZWFrOwogICAgfQogIH0KfQ=="},{"version":3,"sources":["/Users/tech/workspace/demo/vue-demo/src/vueResource/compiler/directives/model.js"],"names":["genComponentModel","el","value","modifiers","number","trim","baseValueExpression","valueExpression","assignment","genAssignmentCode","model","expression","JSON","stringify","callback","res","parseModel","key","exp","len","str","chr","index","expressionPos","expressionEndPos","val","length","indexOf","lastIndexOf","slice","eof","next","isStringStart","parseString","parseBracket","charCodeAt","inBracket","stringQuote"],"mappings":"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","sourcesContent":["/*       */\n\n/**\n * Cross-platform code generation for component v-model\n */\nexport function genComponentModel(\n  el,\n  value,\n  modifiers\n) {\n  const {number, trim} = modifiers || {}\n\n  const baseValueExpression = '$$v'\n  let valueExpression = baseValueExpression\n  if (trim) {\n    valueExpression =\n      `(typeof ${baseValueExpression} === 'string'` +\n      `? ${baseValueExpression}.trim()` +\n      `: ${baseValueExpression})`\n  }\n  if (number) {\n    valueExpression = `_n(${valueExpression})`\n  }\n  const assignment = genAssignmentCode(value, valueExpression)\n\n  el.model = {\n    value: `(${value})`,\n    expression: JSON.stringify(value),\n    callback: `function (${baseValueExpression}) {${assignment}}`\n  }\n}\n\n/**\n * Cross-platform codegen helper for generating v-model value assignment code.\n */\nexport function genAssignmentCode(\n  value,\n  assignment\n) {\n  const res = parseModel(value)\n  if (res.key === null) {\n    return `${value}=${assignment}`\n  } else {\n    return `$set(${res.exp}, ${res.key}, ${assignment})`\n  }\n}\n\n/**\n * Parse a v-model expression into a base path and a final key segment.\n * Handles both dot-path and possible square brackets.\n *\n * Possible cases:\n *\n * - test\n * - test[key]\n * - test[test1[key]]\n * - test[\"a\"][key]\n * - xxx.test[a[a].test1[key]]\n * - test.xxx.a[\"asa\"][test1[key]]\n *\n */\n\nlet len, str, chr, index, expressionPos, expressionEndPos\n\n\nexport function parseModel(val) {\n  // Fix https://github.com/vuejs/vue/pull/7730\n  // allow v-model=\"obj.val \" (trailing whitespace)\n  val = val.trim()\n  len = val.length\n\n  if (val.indexOf('[') < 0 || val.lastIndexOf(']') < len - 1) {\n    index = val.lastIndexOf('.')\n    if (index > -1) {\n      return {\n        exp: val.slice(0, index),\n        key: '\"' + val.slice(index + 1) + '\"'\n      }\n    } else {\n      return {\n        exp: val,\n        key: null\n      }\n    }\n  }\n\n  str = val\n  index = expressionPos = expressionEndPos = 0\n\n  while (!eof()) {\n    chr = next()\n    /* istanbul ignore if */\n    if (isStringStart(chr)) {\n      parseString(chr)\n    } else if (chr === 0x5B) {\n      parseBracket(chr)\n    }\n  }\n\n  return {\n    exp: val.slice(0, expressionPos),\n    key: val.slice(expressionPos + 1, expressionEndPos)\n  }\n}\n\nfunction next() {\n  return str.charCodeAt(++index)\n}\n\nfunction eof() {\n  return index >= len\n}\n\nfunction isStringStart(chr) {\n  return chr === 0x22 || chr === 0x27\n}\n\nfunction parseBracket(chr) {\n  let inBracket = 1\n  expressionPos = index\n  while (!eof()) {\n    chr = next()\n    if (isStringStart(chr)) {\n      parseString(chr)\n      continue\n    }\n    if (chr === 0x5B) inBracket++\n    if (chr === 0x5D) inBracket--\n    if (inBracket === 0) {\n      expressionEndPos = index\n      break\n    }\n  }\n}\n\nfunction parseString(chr) {\n  const stringQuote = chr\n  while (!eof()) {\n    chr = next()\n    if (chr === stringQuote) {\n      break\n    }\n  }\n}\n"]}]}