{"remainingRequest":"/Users/tech/workspace/demo/vue-demo/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/tech/workspace/demo/vue-demo/src/App.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/tech/workspace/demo/vue-demo/src/App.vue","mtime":1598242797787},{"path":"/Users/tech/workspace/demo/vue-demo/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/tech/workspace/demo/vue-demo/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/tech/workspace/demo/vue-demo/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/tech/workspace/demo/vue-demo/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCiAgaW1wb3J0IEhvbWUgZnJvbSAnLi92aWV3cy9Ib21lJzsKaW1wb3J0IHtwYXJzZX0gZnJvbSAnLi92dWVSZXNvdXJjZS9jb21waWxlci9wYXJzZXIvaW5kZXgnOwppbXBvcnQge2dlbmVyYXRlfSBmcm9tICcuL3Z1ZVJlc291cmNlL2NvbXBpbGVyL2NvZGVnZW4vaW5kZXgnOwppbXBvcnQge2NyZWF0ZUNvbXBpbGVUb0Z1bmN0aW9uRm59IGZyb20gJy4vdnVlUmVzb3VyY2UvY29tcGlsZXIvdG8tZnVuY3Rpb24nOwppbXBvcnQge2NvbXBpbGVUb0Z1bmN0aW9uc30gZnJvbSAnLi92dWVSZXNvdXJjZS9wbGF0Zm9ybXMvd2ViL2NvbXBpbGVyL2luZGV4JzsKCi8vIHJlbmRlciBmdW5jdGlvbgppbXBvcnQge2luaXRSZW5kZXJ9IGZyb20gJy4vdnVlUmVzb3VyY2UvY29yZS9pbnN0YW5jZS9yZW5kZXInOwppbXBvcnQge2luc3RhbGxSZW5kZXJIZWxwZXJzfSBmcm9tICcuL3Z1ZVJlc291cmNlL2NvcmUvaW5zdGFuY2UvcmVuZGVyLWhlbHBlcnMvaW5kZXgnOwoKLy8gcGF0Y2gKaW1wb3J0IFZ1ZSBmcm9tICcuL3Z1ZVJlc291cmNlL2NvcmUvaW5kZXgnOwppbXBvcnQge2NyZWF0ZVBhdGNoRnVuY3Rpb259IGZyb20gJy4vdnVlUmVzb3VyY2UvY29yZS92ZG9tL3BhdGNoJzsKaW1wb3J0ICogYXMgbm9kZU9wcyBmcm9tICcuL3Z1ZVJlc291cmNlL3BsYXRmb3Jtcy93ZWIvcnVudGltZS9ub2RlLW9wcyc7CmltcG9ydCBiYXNlTW9kdWxlcyBmcm9tICcuL3Z1ZVJlc291cmNlL2NvcmUvdmRvbS9tb2R1bGVzL2luZGV4JwppbXBvcnQgcGxhdGZvcm1Nb2R1bGVzIGZyb20gJy4vdnVlUmVzb3VyY2UvcGxhdGZvcm1zL3dlYi9ydW50aW1lL21vZHVsZXMvaW5kZXgnOwoKCmNvbnN0IG1vZHVsZXMgPSBwbGF0Zm9ybU1vZHVsZXMuY29uY2F0KGJhc2VNb2R1bGVzKTsKY29uc3QgcGF0Y2ggPSBjcmVhdGVQYXRjaEZ1bmN0aW9uKHtub2RlT3BzLCBtb2R1bGVzfSk7CgoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdBcHAnLAogIGNvbXBvbmVudHM6ewogICAgSG9tZQogIH0sCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIG5hbWU6ICdXb3JsZCcsCiAgICAgIGxpc3Q6IFsxLCAyLCAzLCA0XQogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgZGVsZXRlSXRlbShpbmRleCkgewogICAgICB0aGlzLmxpc3Quc3BsaWNlKGluZGV4LDEpOwogICAgfQogIH0sCiAgbW91bnRlZCgpIHsKCiAgICBjb25zb2xlLmxvZyhPYmplY3Qua2V5cyh0aGlzLiRvcHRpb25zKSkKICAgIGNvbnNvbGUubG9nKCh0aGlzLiRvcHRpb25zLmNvbXBvbmVudHMpKQogICAvKgogICAgY29uc29sZS5sb2coJyoqKiogdGhpcyAqKioqJywgdGhpcy5fdm5vZGUpOwoKICAgIGNvbnNvbGUubG9nKCcqKioqdGhpcyBfd2F0Y2hlcnMqKioqJywgdGhpcy5fd2F0Y2hlcnNbMF0uZ2V0dGVyKTsKCgoKICAgIC8vIENvbnZlcnQgSFRNTCBzdHJpbmcgdG8gQVNULgogICAgY29uc3QgYXN0ID0gcGFyc2UoJzxkaXYgc3R5bGU9ImNvbG9yOnJlZCI+aGVsbG8ge3tuYW1lfX0gPHNwYW4+IEhpIDwvc3Bhbj4gdGV4dCA8L2Rpdj4nLCB7CiAgICAgIHdhcm46ICcnCiAgICB9KTsKICAgIGNvbnNvbGUubG9nKCcqKiphc3QqKionLCBhc3QpOwoKICAgIC8vIGdlbmVyYXRlIGNvZGUKICAgIGNvbnN0IGdlbkNvZGUgPSBnZW5lcmF0ZShhc3QsIHt9KTsKICAgIGNvbnNvbGUubG9nKCcqKipjb2RlKioqJywgZ2VuQ29kZSk7CgoKICAgIC8vIGNvbXBpbGVUb0Z1bmN0aW9ucwogICAgY29uc3QgZnVuY3Rpb25zID0gY29tcGlsZVRvRnVuY3Rpb25zKCc8ZGl2IHN0eWxlPSJjb2xvcjpyZWQiPmhlbGxvIHt7bmFtZX19IDxzcGFuPiBIaSA8L3NwYW4+IHRleHQgPC9kaXY+Jyk7CiAgICBjb25zb2xlLmxvZyhmdW5jdGlvbnMucmVuZGVyKTsKCgoKICAgIC8vIFZub2RlIOeUn+aIkCDnnJ/lrp5kb20gIOiwg+eUqOeahOaYr3BhdGNoLmpzIOS4reeahCBjcmVhdGVFbG0KICAgIC8vIGlzVW5kZWYob2xkVm5vZGUpIC0+ICBlbXB0eSBtb3VudCAobGlrZWx5IGFzIGNvbXBvbmVudCksIGNyZWF0ZSBuZXcgcm9vdCBlbGVtZW50CgoKICAgIGNvbnNvbGUubG9nKCcqKipfcmVuZGVyKioqJywgdGhpcy5fcmVuZGVyKCkpOwogICAgY29uc29sZS5sb2coJyoqKl91cGRhdGUqKionLCB0aGlzLl91cGRhdGUpOwoKCiAgICBjb25zb2xlLmxvZyh0aGlzLiRlbCk7CiAgICBjb25zb2xlLmxvZyh0aGlzLl92bm9kZSk7CiAgICAvLyB0aGlzLl91cGRhdGUoKGZ1bmN0aW9ucy5yZW5kZXIuY2FsbCh0aGlzKSkpOwogICovCgoKICAgIC8vIGRpZmYKICAgIC8vIDEu5Yib5bu656ys5LiA5Liq6Jma5ouf6IqC54K5CiAgICBsZXQgdm0xID0gbmV3IFZ1ZSh7ZGF0YToge25hbWU6ICd0ZXN0MScsIGFycjogWzEsIDIsIDNdfX0pOwogICAgbGV0IHJlbmRlcjEgPSBjb21waWxlVG9GdW5jdGlvbnMoYDxkaXYgc3R5bGU9ImNvbG9yOiBibHVlIj57e25hbWV9fTx1bD48bGkgdi1mb3I9Iml0ZW0gaW4gYXJyIgogICAgICAgICAgICAgICA6a2V5PSJpdGVtIj57e2l0ZW19fTwvbGk+PC91bD48L2Rpdj5gKS5yZW5kZXI7CiAgICBsZXQgb2xkVm5vZGUgPSByZW5kZXIxLmNhbGwodm0xKTsKICAgIHBhdGNoKG51bGwsIG9sZFZub2RlKTsKCgogICAgLy8gMi7liJvlu7rnrKzkuozkuKromZrmi5/oioLngrkKICAgIGxldCB2bTIgPSBuZXcgVnVlKHtkYXRhOiB7bmFtZTogJ3Rlc3QyJywgYXJyOiBbMSwgMiwgMywgNF19fSk7CiAgICBsZXQgcmVuZGVyMiA9IGNvbXBpbGVUb0Z1bmN0aW9ucyhgPGRpdiBzdHlsZT0iY29sb3I6IHJlZDsiPnt7bmFtZX19IDx1bD48bGkgdi1mb3I9Iml0ZW0gaW4gYXJyIgogICAgICAgICAgICAgICA6a2V5PSJpdGVtIj57e2l0ZW19fTwvbGk+PC91bD48L2Rpdj48L2Rpdj5gKS5yZW5kZXI7CiAgICBsZXQgbmV3Vm5vZGUgPSByZW5kZXIyLmNhbGwodm0yKTsKICAgIC8vIHBhdGNoKG51bGwsIG5ld1Zub2RlKTsKCiAgICAvLyAzLumAmui/h+esrOS4gOS4quiZmuaLn+iKgueCueWBmummluasoea4suafkwogICAgbGV0IGVsID0gb2xkVm5vZGUuZWxtOwoKICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0ZXN0JykuYXBwZW5kQ2hpbGQoZWwpOwogICAgY29uc29sZS5sb2coJyoqKmJlZm9yZSBwYXRjaCBvbGRWbm9kZSoqKionLCBvbGRWbm9kZSk7CiAgICBjb25zb2xlLmxvZygnKioqYmVmb3JlIHBhdGNoIG5ld1Zub2RlKioqKicsIG5ld1Zub2RlKTsKCiAgICAvLyA0Luiwg+eUqHBhdGNo5pa55rOV6L+b6KGM5a+55q+U5pON5L2cCiAgICBwYXRjaChvbGRWbm9kZSwgbmV3Vm5vZGUpOwogICAgY29uc29sZS5sb2coJyoqKmFmdGVyIHBhdGNoIG9sZFZub2RlKioqKicsIG9sZFZub2RlKTsKICAgIGNvbnNvbGUubG9nKCcqKiphZnRlciBwYXRjaCBvbGRWbm9kZSBlbG0qKioqJywgb2xkVm5vZGUuZWxtKTsKICAgIGNvbnNvbGUubG9nKCcqKiphZnRlciBwYXRjaCBuZXdWbm9kZSoqKionLCBuZXdWbm9kZSk7CiAgICBjb25zb2xlLmxvZygnKioqYWZ0ZXIgcGF0Y2ggbmV3Vm5vZGUgZWxtKioqKicsIG5ld1Zub2RlLmVsbSk7CgogIH0KfQo="},{"version":3,"sources":["App.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkCA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;;;AAIA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;;;;AAIA;AACA;;;AAGA;AACA;;;AAGA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA","file":"App.vue","sourceRoot":"src","sourcesContent":["<template>\n  <div id=\"app\">\n    <div id=\"nav\">\n      <div id=\"test\">\n      </div>\n      <router-link to=\"/home\">\n        render & template & el\n      </router-link>\n      <router-link to=\"/about\">\n        vue Test\n      </router-link>\n      <br><br><br>\n\n\n      list: {{list}}\n      <ul>\n        <li v-for=\"(item,index) in list\" :key=\"index\">\n            {{item}}\n           <input type=\"text\">\n           <button @click=\"deleteItem(index)\">\n              delete\n           </button>\n        </li>\n      </ul>\n\n    </div>\n    <router-view/>\n\n    <home></home>\n  </div>\n</template>\n\n\n<script>\n  import Home from './views/Home';\nimport {parse} from './vueResource/compiler/parser/index';\nimport {generate} from './vueResource/compiler/codegen/index';\nimport {createCompileToFunctionFn} from './vueResource/compiler/to-function';\nimport {compileToFunctions} from './vueResource/platforms/web/compiler/index';\n\n// render function\nimport {initRender} from './vueResource/core/instance/render';\nimport {installRenderHelpers} from './vueResource/core/instance/render-helpers/index';\n\n// patch\nimport Vue from './vueResource/core/index';\nimport {createPatchFunction} from './vueResource/core/vdom/patch';\nimport * as nodeOps from './vueResource/platforms/web/runtime/node-ops';\nimport baseModules from './vueResource/core/vdom/modules/index'\nimport platformModules from './vueResource/platforms/web/runtime/modules/index';\n\n\nconst modules = platformModules.concat(baseModules);\nconst patch = createPatchFunction({nodeOps, modules});\n\n\nexport default {\n  name: 'App',\n  components:{\n    Home\n  },\n  data() {\n    return {\n      name: 'World',\n      list: [1, 2, 3, 4]\n    }\n  },\n  methods: {\n    deleteItem(index) {\n      this.list.splice(index,1);\n    }\n  },\n  mounted() {\n\n    console.log(Object.keys(this.$options))\n    console.log((this.$options.components))\n   /*\n    console.log('**** this ****', this._vnode);\n\n    console.log('****this _watchers****', this._watchers[0].getter);\n\n\n\n    // Convert HTML string to AST.\n    const ast = parse('<div style=\"color:red\">hello {{name}} <span> Hi </span> text </div>', {\n      warn: ''\n    });\n    console.log('***ast***', ast);\n\n    // generate code\n    const genCode = generate(ast, {});\n    console.log('***code***', genCode);\n\n\n    // compileToFunctions\n    const functions = compileToFunctions('<div style=\"color:red\">hello {{name}} <span> Hi </span> text </div>');\n    console.log(functions.render);\n\n\n\n    // Vnode 生成 真实dom  调用的是patch.js 中的 createElm\n    // isUndef(oldVnode) ->  empty mount (likely as component), create new root element\n\n\n    console.log('***_render***', this._render());\n    console.log('***_update***', this._update);\n\n\n    console.log(this.$el);\n    console.log(this._vnode);\n    // this._update((functions.render.call(this)));\n  */\n\n\n    // diff\n    // 1.创建第一个虚拟节点\n    let vm1 = new Vue({data: {name: 'test1', arr: [1, 2, 3]}});\n    let render1 = compileToFunctions(`<div style=\"color: blue\">{{name}}<ul><li v-for=\"item in arr\"\n               :key=\"item\">{{item}}</li></ul></div>`).render;\n    let oldVnode = render1.call(vm1);\n    patch(null, oldVnode);\n\n\n    // 2.创建第二个虚拟节点\n    let vm2 = new Vue({data: {name: 'test2', arr: [1, 2, 3, 4]}});\n    let render2 = compileToFunctions(`<div style=\"color: red;\">{{name}} <ul><li v-for=\"item in arr\"\n               :key=\"item\">{{item}}</li></ul></div></div>`).render;\n    let newVnode = render2.call(vm2);\n    // patch(null, newVnode);\n\n    // 3.通过第一个虚拟节点做首次渲染\n    let el = oldVnode.elm;\n\n    document.getElementById('test').appendChild(el);\n    console.log('***before patch oldVnode****', oldVnode);\n    console.log('***before patch newVnode****', newVnode);\n\n    // 4.调用patch方法进行对比操作\n    patch(oldVnode, newVnode);\n    console.log('***after patch oldVnode****', oldVnode);\n    console.log('***after patch oldVnode elm****', oldVnode.elm);\n    console.log('***after patch newVnode****', newVnode);\n    console.log('***after patch newVnode elm****', newVnode.elm);\n\n  }\n}\n</script>\n\n\n"]}]}