{"remainingRequest":"/Users/tech/workspace/demo/vue-demo/node_modules/babel-loader/lib/index.js!/Users/tech/workspace/demo/vue-demo/src/vueResource/core/vdom/helpers/update-listeners.js","dependencies":[{"path":"/Users/tech/workspace/demo/vue-demo/src/vueResource/core/vdom/helpers/update-listeners.js","mtime":1596452372000},{"path":"/Users/tech/workspace/demo/vue-demo/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/tech/workspace/demo/vue-demo/node_modules/babel-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc2xpY2UiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lIjsKCi8qICAgICAgICovCmltcG9ydCB7IHdhcm4sIGludm9rZVdpdGhFcnJvckhhbmRsaW5nIH0gZnJvbSAnLi4vLi4vLi4vY29yZS91dGlsL2luZGV4JzsKaW1wb3J0IHsgY2FjaGVkLCBpc1VuZGVmLCBpc1RydWUsIGlzUGxhaW5PYmplY3QgfSBmcm9tICcuLi8uLi8uLi9zaGFyZWQvdXRpbCc7CnZhciBub3JtYWxpemVFdmVudCA9IGNhY2hlZChmdW5jdGlvbiAobmFtZSkgewogIHZhciBwYXNzaXZlID0gbmFtZS5jaGFyQXQoMCkgPT09ICcmJzsKICBuYW1lID0gcGFzc2l2ZSA/IG5hbWUuc2xpY2UoMSkgOiBuYW1lOwogIHZhciBvbmNlID0gbmFtZS5jaGFyQXQoMCkgPT09ICd+JzsgLy8gUHJlZml4ZWQgbGFzdCwgY2hlY2tlZCBmaXJzdAoKICBuYW1lID0gb25jZSA/IG5hbWUuc2xpY2UoMSkgOiBuYW1lOwogIHZhciBjYXB0dXJlID0gbmFtZS5jaGFyQXQoMCkgPT09ICchJzsKICBuYW1lID0gY2FwdHVyZSA/IG5hbWUuc2xpY2UoMSkgOiBuYW1lOwogIHJldHVybiB7CiAgICBuYW1lOiBuYW1lLAogICAgb25jZTogb25jZSwKICAgIGNhcHR1cmU6IGNhcHR1cmUsCiAgICBwYXNzaXZlOiBwYXNzaXZlCiAgfTsKfSk7CmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVGbkludm9rZXIoZm5zLCB2bSkgewogIGZ1bmN0aW9uIGludm9rZXIoKSB7CiAgICB2YXIgZm5zID0gaW52b2tlci5mbnM7CgogICAgaWYgKEFycmF5LmlzQXJyYXkoZm5zKSkgewogICAgICB2YXIgY2xvbmVkID0gZm5zLnNsaWNlKCk7CgogICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNsb25lZC5sZW5ndGg7IGkrKykgewogICAgICAgIGludm9rZVdpdGhFcnJvckhhbmRsaW5nKGNsb25lZFtpXSwgbnVsbCwgYXJndW1lbnRzLCB2bSwgInYtb24gaGFuZGxlciIpOwogICAgICB9CiAgICB9IGVsc2UgewogICAgICAvLyByZXR1cm4gaGFuZGxlciByZXR1cm4gdmFsdWUgZm9yIHNpbmdsZSBoYW5kbGVycwogICAgICByZXR1cm4gaW52b2tlV2l0aEVycm9ySGFuZGxpbmcoZm5zLCBudWxsLCBhcmd1bWVudHMsIHZtLCAidi1vbiBoYW5kbGVyIik7CiAgICB9CiAgfQoKICBpbnZva2VyLmZucyA9IGZuczsKICByZXR1cm4gaW52b2tlcjsKfQpleHBvcnQgZnVuY3Rpb24gdXBkYXRlTGlzdGVuZXJzKG9uLCBvbGRPbiwgYWRkLCByZW1vdmUsIGNyZWF0ZU9uY2VIYW5kbGVyLCB2bSkgewogIHZhciBuYW1lLCBkZWYsIGN1ciwgb2xkLCBldmVudDsKCiAgZm9yIChuYW1lIGluIG9uKSB7CiAgICBkZWYgPSBjdXIgPSBvbltuYW1lXTsKICAgIG9sZCA9IG9sZE9uW25hbWVdOwogICAgZXZlbnQgPSBub3JtYWxpemVFdmVudChuYW1lKTsKICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqLwoKICAgIGlmIChfX1dFRVhfXyAmJiBpc1BsYWluT2JqZWN0KGRlZikpIHsKICAgICAgY3VyID0gZGVmLmhhbmRsZXI7CiAgICAgIGV2ZW50LnBhcmFtcyA9IGRlZi5wYXJhbXM7CiAgICB9CgogICAgaWYgKGlzVW5kZWYoY3VyKSkgewogICAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nICYmIHdhcm4oIkludmFsaWQgaGFuZGxlciBmb3IgZXZlbnQgXCIiLmNvbmNhdChldmVudC5uYW1lLCAiXCI6IGdvdCAiKSArIFN0cmluZyhjdXIpLCB2bSk7CiAgICB9IGVsc2UgaWYgKGlzVW5kZWYob2xkKSkgewogICAgICBpZiAoaXNVbmRlZihjdXIuZm5zKSkgewogICAgICAgIGN1ciA9IG9uW25hbWVdID0gY3JlYXRlRm5JbnZva2VyKGN1ciwgdm0pOwogICAgICB9CgogICAgICBpZiAoaXNUcnVlKGV2ZW50Lm9uY2UpKSB7CiAgICAgICAgY3VyID0gb25bbmFtZV0gPSBjcmVhdGVPbmNlSGFuZGxlcihldmVudC5uYW1lLCBjdXIsIGV2ZW50LmNhcHR1cmUpOwogICAgICB9CgogICAgICBhZGQoZXZlbnQubmFtZSwgY3VyLCBldmVudC5jYXB0dXJlLCBldmVudC5wYXNzaXZlLCBldmVudC5wYXJhbXMpOwogICAgfSBlbHNlIGlmIChjdXIgIT09IG9sZCkgewogICAgICBvbGQuZm5zID0gY3VyOwogICAgICBvbltuYW1lXSA9IG9sZDsKICAgIH0KICB9CgogIGZvciAobmFtZSBpbiBvbGRPbikgewogICAgaWYgKGlzVW5kZWYob25bbmFtZV0pKSB7CiAgICAgIGV2ZW50ID0gbm9ybWFsaXplRXZlbnQobmFtZSk7CiAgICAgIHJlbW92ZShldmVudC5uYW1lLCBvbGRPbltuYW1lXSwgZXZlbnQuY2FwdHVyZSk7CiAgICB9CiAgfQp9"},{"version":3,"sources":["/Users/tech/workspace/demo/vue-demo/src/vueResource/core/vdom/helpers/update-listeners.js"],"names":["warn","invokeWithErrorHandling","cached","isUndef","isTrue","isPlainObject","normalizeEvent","name","passive","charAt","slice","once","capture","createFnInvoker","fns","vm","invoker","Array","isArray","cloned","i","length","arguments","updateListeners","on","oldOn","add","remove","createOnceHandler","def","cur","old","event","__WEEX__","handler","params","process","env","NODE_ENV","String"],"mappings":"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","sourcesContent":["/*       */\n\nimport {\n  warn,\n  invokeWithErrorHandling\n} from '../../../core/util/index'\nimport {\n  cached,\n  isUndef,\n  isTrue,\n  isPlainObject\n} from '../../../shared/util'\n\nconst normalizeEvent = cached((name) => {\n  const passive = name.charAt(0) === '&'\n  name = passive ? name.slice(1) : name\n  const once = name.charAt(0) === '~' // Prefixed last, checked first\n  name = once ? name.slice(1) : name\n  const capture = name.charAt(0) === '!'\n  name = capture ? name.slice(1) : name\n  return {\n    name,\n    once,\n    capture,\n    passive\n  }\n})\n\nexport function createFnInvoker(fns, vm) {\n  function invoker() {\n    const fns = invoker.fns\n    if (Array.isArray(fns)) {\n      const cloned = fns.slice()\n      for (let i = 0; i < cloned.length; i++) {\n        invokeWithErrorHandling(cloned[i], null, arguments, vm, `v-on handler`)\n      }\n    } else {\n      // return handler return value for single handlers\n      return invokeWithErrorHandling(fns, null, arguments, vm, `v-on handler`)\n    }\n  }\n\n  invoker.fns = fns\n  return invoker\n}\n\nexport function updateListeners(\n  on,\n  oldOn,\n  add,\n  remove,\n  createOnceHandler,\n  vm\n) {\n  let name, def, cur, old, event\n  for (name in on) {\n    def = cur = on[name]\n    old = oldOn[name]\n    event = normalizeEvent(name)\n    /* istanbul ignore if */\n    if (__WEEX__ && isPlainObject(def)) {\n      cur = def.handler\n      event.params = def.params\n    }\n    if (isUndef(cur)) {\n      process.env.NODE_ENV !== 'production' && warn(\n        `Invalid handler for event \"${event.name}\": got ` + String(cur),\n        vm\n      )\n    } else if (isUndef(old)) {\n      if (isUndef(cur.fns)) {\n        cur = on[name] = createFnInvoker(cur, vm)\n      }\n      if (isTrue(event.once)) {\n        cur = on[name] = createOnceHandler(event.name, cur, event.capture)\n      }\n      add(event.name, cur, event.capture, event.passive, event.params)\n    } else if (cur !== old) {\n      old.fns = cur\n      on[name] = old\n    }\n  }\n  for (name in oldOn) {\n    if (isUndef(on[name])) {\n      event = normalizeEvent(name)\n      remove(event.name, oldOn[name], event.capture)\n    }\n  }\n}\n"]}]}