{"remainingRequest":"/Users/tech/workspace/demo/vue-demo/node_modules/babel-loader/lib/index.js!/Users/tech/workspace/demo/vue-demo/src/vueResource/compiler/codeframe.js","dependencies":[{"path":"/Users/tech/workspace/demo/vue-demo/src/vueResource/compiler/codeframe.js","mtime":1596450179000},{"path":"/Users/tech/workspace/demo/vue-demo/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/tech/workspace/demo/vue-demo/node_modules/babel-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuam9pbiI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnNwbGl0IjsKCi8qICAgICAgICovCnZhciByYW5nZSA9IDI7CmV4cG9ydCBmdW5jdGlvbiBnZW5lcmF0ZUNvZGVGcmFtZShzb3VyY2UpIHsKICB2YXIgc3RhcnQgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IDA7CiAgdmFyIGVuZCA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDogc291cmNlLmxlbmd0aDsKICB2YXIgbGluZXMgPSBzb3VyY2Uuc3BsaXQoL1xyP1xuLyk7CiAgdmFyIGNvdW50ID0gMDsKICB2YXIgcmVzID0gW107CgogIGZvciAodmFyIGkgPSAwOyBpIDwgbGluZXMubGVuZ3RoOyBpKyspIHsKICAgIGNvdW50ICs9IGxpbmVzW2ldLmxlbmd0aCArIDE7CgogICAgaWYgKGNvdW50ID49IHN0YXJ0KSB7CiAgICAgIGZvciAodmFyIGogPSBpIC0gcmFuZ2U7IGogPD0gaSArIHJhbmdlIHx8IGVuZCA+IGNvdW50OyBqKyspIHsKICAgICAgICBpZiAoaiA8IDAgfHwgaiA+PSBsaW5lcy5sZW5ndGgpIGNvbnRpbnVlOwogICAgICAgIHJlcy5wdXNoKCIiLmNvbmNhdChqICsgMSkuY29uY2F0KHJlcGVhdCgiICIsIDMgLSBTdHJpbmcoaiArIDEpLmxlbmd0aCksICJ8ICAiKS5jb25jYXQobGluZXNbal0pKTsKICAgICAgICB2YXIgbGluZUxlbmd0aCA9IGxpbmVzW2pdLmxlbmd0aDsKCiAgICAgICAgaWYgKGogPT09IGkpIHsKICAgICAgICAgIC8vIHB1c2ggdW5kZXJsaW5lCiAgICAgICAgICB2YXIgcGFkID0gc3RhcnQgLSAoY291bnQgLSBsaW5lTGVuZ3RoKSArIDE7CiAgICAgICAgICB2YXIgbGVuZ3RoID0gZW5kID4gY291bnQgPyBsaW5lTGVuZ3RoIC0gcGFkIDogZW5kIC0gc3RhcnQ7CiAgICAgICAgICByZXMucHVzaCgiICAgfCAgIiArIHJlcGVhdCgiICIsIHBhZCkgKyByZXBlYXQoIl4iLCBsZW5ndGgpKTsKICAgICAgICB9IGVsc2UgaWYgKGogPiBpKSB7CiAgICAgICAgICBpZiAoZW5kID4gY291bnQpIHsKICAgICAgICAgICAgdmFyIF9sZW5ndGggPSBNYXRoLm1pbihlbmQgLSBjb3VudCwgbGluZUxlbmd0aCk7CgogICAgICAgICAgICByZXMucHVzaCgiICAgfCAgIiArIHJlcGVhdCgiXiIsIF9sZW5ndGgpKTsKICAgICAgICAgIH0KCiAgICAgICAgICBjb3VudCArPSBsaW5lTGVuZ3RoICsgMTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIGJyZWFrOwogICAgfQogIH0KCiAgcmV0dXJuIHJlcy5qb2luKCdcbicpOwp9CgpmdW5jdGlvbiByZXBlYXQoc3RyLCBuKSB7CiAgdmFyIHJlc3VsdCA9ICcnOwoKICB3aGlsZSAodHJ1ZSkgewogICAgLy8gZXNsaW50LWRpc2FibGUtbGluZQogICAgaWYgKG4gJiAxKSByZXN1bHQgKz0gc3RyOwogICAgbiA+Pj49IDE7CiAgICBpZiAobiA8PSAwKSBicmVhazsKICAgIHN0ciArPSBzdHI7CiAgfQoKICByZXR1cm4gcmVzdWx0Owp9"},{"version":3,"sources":["/Users/tech/workspace/demo/vue-demo/src/vueResource/compiler/codeframe.js"],"names":["range","generateCodeFrame","source","start","end","length","lines","split","count","res","i","j","push","repeat","String","lineLength","pad","Math","min","join","str","n","result"],"mappings":";;;;;AAAA;AAEA,IAAMA,KAAK,GAAG,CAAd;AAEA,OAAO,SAASC,iBAAT,CACLC,MADK,EAIL;AAAA,MAFAC,KAEA,uEAFQ,CAER;AAAA,MADAC,GACA,uEADMF,MAAM,CAACG,MACb;AACA,MAAMC,KAAK,GAAGJ,MAAM,CAACK,KAAP,CAAa,OAAb,CAAd;AACA,MAAIC,KAAK,GAAG,CAAZ;AACA,MAAMC,GAAG,GAAG,EAAZ;;AACA,OAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGJ,KAAK,CAACD,MAA1B,EAAkCK,CAAC,EAAnC,EAAuC;AACrCF,IAAAA,KAAK,IAAIF,KAAK,CAACI,CAAD,CAAL,CAASL,MAAT,GAAkB,CAA3B;;AACA,QAAIG,KAAK,IAAIL,KAAb,EAAoB;AAClB,WAAK,IAAIQ,CAAC,GAAGD,CAAC,GAAGV,KAAjB,EAAwBW,CAAC,IAAID,CAAC,GAAGV,KAAT,IAAkBI,GAAG,GAAGI,KAAhD,EAAuDG,CAAC,EAAxD,EAA4D;AAC1D,YAAIA,CAAC,GAAG,CAAJ,IAASA,CAAC,IAAIL,KAAK,CAACD,MAAxB,EAAgC;AAChCI,QAAAA,GAAG,CAACG,IAAJ,WAAYD,CAAC,GAAG,CAAhB,SAAoBE,MAAM,MAAM,IAAIC,MAAM,CAACH,CAAC,GAAG,CAAL,CAAN,CAAcN,MAAxB,CAA1B,gBAA+DC,KAAK,CAACK,CAAD,CAApE;AACA,YAAMI,UAAU,GAAGT,KAAK,CAACK,CAAD,CAAL,CAASN,MAA5B;;AACA,YAAIM,CAAC,KAAKD,CAAV,EAAa;AACX;AACA,cAAMM,GAAG,GAAGb,KAAK,IAAIK,KAAK,GAAGO,UAAZ,CAAL,GAA+B,CAA3C;AACA,cAAMV,MAAM,GAAGD,GAAG,GAAGI,KAAN,GAAcO,UAAU,GAAGC,GAA3B,GAAiCZ,GAAG,GAAGD,KAAtD;AACAM,UAAAA,GAAG,CAACG,IAAJ,CAAS,WAAWC,MAAM,MAAMG,GAAN,CAAjB,GAA8BH,MAAM,MAAMR,MAAN,CAA7C;AACD,SALD,MAKO,IAAIM,CAAC,GAAGD,CAAR,EAAW;AAChB,cAAIN,GAAG,GAAGI,KAAV,EAAiB;AACf,gBAAMH,OAAM,GAAGY,IAAI,CAACC,GAAL,CAASd,GAAG,GAAGI,KAAf,EAAsBO,UAAtB,CAAf;;AACAN,YAAAA,GAAG,CAACG,IAAJ,CAAS,WAAWC,MAAM,MAAMR,OAAN,CAA1B;AACD;;AACDG,UAAAA,KAAK,IAAIO,UAAU,GAAG,CAAtB;AACD;AACF;;AACD;AACD;AACF;;AACD,SAAON,GAAG,CAACU,IAAJ,CAAS,IAAT,CAAP;AACD;;AAED,SAASN,MAAT,CAAgBO,GAAhB,EAAqBC,CAArB,EAAwB;AACtB,MAAIC,MAAM,GAAG,EAAb;;AACA,SAAO,IAAP,EAAa;AAAE;AACb,QAAID,CAAC,GAAG,CAAR,EAAWC,MAAM,IAAIF,GAAV;AACXC,IAAAA,CAAC,MAAM,CAAP;AACA,QAAIA,CAAC,IAAI,CAAT,EAAY;AACZD,IAAAA,GAAG,IAAIA,GAAP;AACD;;AACD,SAAOE,MAAP;AACD","sourcesContent":["/*       */\n\nconst range = 2\n\nexport function generateCodeFrame(\n  source,\n  start = 0,\n  end = source.length\n) {\n  const lines = source.split(/\\r?\\n/)\n  let count = 0\n  const res = []\n  for (let i = 0; i < lines.length; i++) {\n    count += lines[i].length + 1\n    if (count >= start) {\n      for (let j = i - range; j <= i + range || end > count; j++) {\n        if (j < 0 || j >= lines.length) continue\n        res.push(`${j + 1}${repeat(` `, 3 - String(j + 1).length)}|  ${lines[j]}`)\n        const lineLength = lines[j].length\n        if (j === i) {\n          // push underline\n          const pad = start - (count - lineLength) + 1\n          const length = end > count ? lineLength - pad : end - start\n          res.push(`   |  ` + repeat(` `, pad) + repeat(`^`, length))\n        } else if (j > i) {\n          if (end > count) {\n            const length = Math.min(end - count, lineLength)\n            res.push(`   |  ` + repeat(`^`, length))\n          }\n          count += lineLength + 1\n        }\n      }\n      break\n    }\n  }\n  return res.join('\\n')\n}\n\nfunction repeat(str, n) {\n  let result = ''\n  while (true) { // eslint-disable-line\n    if (n & 1) result += str\n    n >>>= 1\n    if (n <= 0) break\n    str += str\n  }\n  return result\n}\n"]}]}